<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.nongxinle.dao.GbDepartmentGoodsStockRecordDao">

	<select id="queryObject" resultType="com.nongxinle.entity.GbDepartmentGoodsStockRecordEntity">
		select * from gb_department_goods_stock_record where gb_department_goods_stock_record_id = #{value}
	</select>

	<select id="queryList" resultType="com.nongxinle.entity.GbDepartmentGoodsStockRecordEntity">
		select * from gb_department_goods_stock_record 
		<if test="offset != null and limit != null">
			limit #{offset}, #{limit}
		</if>
	</select>
	
 	<select id="queryTotal" resultType="int">
		select count(*) from gb_department_goods_stock_record 
	</select>


    <select id="queryGoodsStockRecordCount" resultType="java.lang.Integer">
		select count(*) from gb_department_goods_stock_record as dgsc
		left join gb_distributer_goods as dg on dg.gb_distributer_goods_id = dgsc.gb_dgsc_gb_dis_goods_id
		<where>
			<if test="startTime != null">
				and dgsc.gb_dgsc_full_time  &gt;= #{startTime}
			</if>
			<if test="stopTime != null">
				and dgsc.gb_dgsc_full_time  &lt; #{stopTime}
			</if>
			<if test="notDayuStopTime != null">
				and dgsc.gb_dgsc_full_time  &lt;=  #{notDayuStopTime}
			</if>
			<if test="disId != null">
				and dgsc.gb_dgsc_gb_distributer_id = #{disId}
			</if>
			<if test="disGoodsId != null">
				and dgsc.gb_dgsc_gb_dis_goods_id = #{disGoodsId}
			</if>
			<if test="fatherGoodsId != null">
				and dgsc.gb_dgsc_gb_dis_goods_father_id = #{fatherGoodsId}
			</if>
			<if test="startDate != null">
				and dgsc.gb_dgsc_date  &gt;= #{startDate}
			</if>
			<if test="stopDate != null">
				and dgsc.gb_dgsc_date  &lt;=  #{stopDate}
			</if>
			<if test="notDayuStopDate != null">
				and dgsc.gb_dgsc_date  &lt;=  #{notDayuStopDate}
			</if>
			<if test="status != null">
				and dgsc.gb_dgsc_status &lt; #{status}
			</if>
			<if test="fromDepId != null">
				and dgsc.gb_dgsc_gb_from_department_id = #{fromDepId}
			</if>

			<if test="depId != null">
				and dgsc.gb_dgsc_gb_department_id = #{depId}
			</if>
			<if test="depFatherId != null">
				and dgsc.gb_dgsc_gb_department_father_id = #{depFatherId}
			</if>

			<if test="dayuStatus != null">
				and dgsc.gb_dgsc_status  &gt;  #{dayuStatus}
			</if>
			<if test="equalStatus != null">
				and dgsc.gb_dgsc_status  = #{equalStatus}
			</if>
			<if test="inventoryType != null">
				and dgsc.gb_dgsc_gb_inventory_type  =  #{inventoryType}
			</if>
			<if test="waste != null and waste == 1">
				and dgsc.gb_dgsc_do_waste_weight  &gt; 0
			</if>
			<if test="loss != null and loss == 1">
				and dgsc.gb_dgsc_loss_weight  &gt; 0
			</if>

		</where>
	</select>
	<select id="queryGoodsStockRecordSubtotal" resultType="java.lang.Double">
		select sum(dgsc.gb_dgsc_subtotal) from gb_department_goods_stock_record as dgsc
		left join gb_distributer_goods as dg on dg.gb_distributer_goods_id = dgsc.gb_dgsc_gb_dis_goods_id
		<where>
			<if test="startTime != null">
				and dgsc.gb_dgsc_full_time  &gt;= #{startTime}
			</if>
			<if test="stopTime != null">
				and dgsc.gb_dgsc_full_time  &lt;  #{stopTime}
			</if>
			<if test="notDayuStopTime != null">
				and dgsc.gb_dgsc_full_time  &lt;=  #{notDayuStopTime}
			</if>
			<if test="disId != null">
				and dgsc.gb_dgsc_gb_distributer_id = #{disId}
			</if>
			<if test="disGoodsId != null">
				and dgsc.gb_dgsc_gb_dis_goods_id = #{disGoodsId}
			</if>
			<if test="fatherGoodsId != null">
				and dgsc.gb_dgsc_gb_dis_goods_father_id = #{fatherGoodsId}
			</if>
			<if test="startDate != null">
				and dgsc.gb_dgsc_date  &gt;= #{startDate}
			</if>
			<if test="stopDate != null">
				and dgsc.gb_dgsc_date  &lt;  #{stopDate}
			</if>
			<if test="notDayuStopDate != null">
				and dgsc.gb_dgsc_date  &lt;=  #{notDayuStopDate}
			</if>
			<if test="fromDepId != null">
				and dgsc.gb_dgsc_gb_from_department_id = #{fromDepId}
			</if>
			<if test="depId != null">
				and dgsc.gb_dgsc_gb_department_id = #{depId}
			</if>
			<if test="depFatherId != null">
				and dgsc.gb_dgsc_gb_department_father_id = #{depFatherId}
			</if>
			<if test="status != null">
				and dgsc.gb_dgsc_status  &lt;  #{status}
			</if>
			<if test="dayuStatus != null">
				and dgsc.gb_dgsc_status  &gt;  #{dayuStatus}
			</if>
			<if test="equalStatus != null">
				and dgsc.gb_dgsc_status  =  #{equalStatus}
			</if>
			<if test="inventoryType != null">
				and dgsc.gb_dgsc_gb_inventory_type  =  #{inventoryType}
			</if>

		</where>
	</select>

	<resultMap id="fromDepStock" type="GbDepartmentGoodsStockEntity">
		<id property="gbDepartmentGoodsStockId" column="from_gb_department_goods_stock_id"/>
		<result property="gbDgsAfterProfitSubtotal" column="from_gb_dgs_sales_profit_subtotal"/>
		<result property="gbDgsGbDisGoodsId" column="from_gb_dgs_gb_dis_goods_id"/>
		<result property="gbDgsGbDisGoodsFatherId" column="from_gb_dgs_gb_dis_goods_father_id"/>
		<result property="gbDgsGbDistributerId" column="from_gb_dgs_gb_distributer_id"/>
		<result property="gbDgsPrice" column="from_gb_dgs_price"/>
		<result property="gbDgsWeight" column="from_gb_dgs_weight"/>
		<result property="gbDgsSubtotal" column="from_gb_dgs_subtotal"/>
		<result property="gbDgsRestWeight" column="from_gb_dgs_rest_weight"/>
		<result property="gbDgsRestSubtotal" column="from_gb_dgs_rest_subtotal"/>
		<result property="gbDgsProduceWeight" column="from_gb_dgs_produce_weight"/>
		<result property="gbDgsProduceSubtotal" column="from_gb_dgs_produce_subtotal"/>
		<result property="gbDgsGbDepartmentId" column="from_gb_dgs_gb_department_id"/>
		<result property="gbDgsGbDepartmentFatherId" column="from_gb_dgs_department_father_id"/>
		<result property="gbDgsStatus" column="from_gb_dgs_status"/>
		<result property="gbDgsReceiveUserId" column="from_gb_dgs_receive_user_id"/>
		<result property="gbDgsGbDistributerId" column="from_gb_dgs_gb_distributer_id"/>
		<result property="gbDgsGbGoodsStockId" column="from_gb_dgs_gb_goods_stock_id"/>
		<result property="gbDgsDate" column="from_gb_dgs_date"/>
		<result property="gbDgsWarnFullTime" column="from_gb_dgs_warn_full_time"/>
		<result property="gbDgsWasteFullTime" column="from_gb_dgs_waste_full_time"/>
		<result property="gbDgsFullTime" column="from_gb_dgs_full_time"/>
		<result property="gbDgsDoWasteFullTime" column="from_gb_dgs_do_waste_full_time"/>
		<result property="gbDgsLossWeight" column="from_gb_dgs_loss_weight"/>
		<result property="gbDgsLossSubtotal" column="from_gb_dgs_loss_subtotal"/>
		<result property="gbDgsReturnWeight" column="from_gb_dgs_return_weight"/>
		<result property="gbDgsReturnSubtotal" column="from_gb_dgs_return_subtotal"/>
		<result property="gbDgsGbDepDisGoodsId" column="from_gb_dgs_gb_dep_dis_goods_id"/>
		<result property="gbDgsWarnTimeQuantumName" column="from_gb_dgs_warn_time_quantum_name"/>
		<result property="gbDgsWasteTimeQuantumName" column="from_gb_dgs_waste_time_quantum_name"/>
		<result property="gbDgsGbPurGoodsId" column="from_gb_dgs_gb_pur_goods_id"/>
		<result property="gbDgsGbPriceGoodsId" column="from_gb_dgs_gb_price_goods_id"/>
	</resultMap>
	<resultMap id="gbDep" type="GbDepartmentEntity">
		<id property="gbDepartmentId" column="gb_department_id"/>
		<result property="gbDepartmentNamePy" column="gb_department_name_py"/>
		<result property="gbDepartmentType" column="gb_department_type"/>
		<result property="gbDepartmentName" column="gb_department_name"/>
		<result property="gbDepartmentLevel" column="gb_department_level"/>
		<result property="gbDepartmentPrintName" column="gb_department_print_name"/>
	</resultMap>
	<resultMap id="fatherDep" type="GbDepartmentEntity">
		<id property="gbDepartmentId" column="orderFatherDep_gb_department_id"/>
		<result property="gbDepartmentName" column="orderFatherDep_gb_department_name"/>

	</resultMap>

	<resultMap id="orderDep" type="GbDepartmentEntity">
		<id property="gbDepartmentId" column="orderDep_gb_department_id"/>
		<result property="gbDepartmentName" column="orderDep_gb_department_name"/>
		<result property="gbDepartmentFatherId" column="orderDep_gb_department_father_id"/>
		<association property="fatherGbDepartmentEntity" resultMap="fatherDep"/>
	</resultMap>

	<resultMap id="applys" type="GbDepartmentOrdersEntity">
		<id property="gbDepartmentOrdersId" column="gb_department_orders_id"/>
		<result property="gbDoSellingPrice" column="gb_DO_selling_price"/>
		<result property="gbDoSellingSubtotal" column="gb_DO_selling_subtotal"/>
		<result property="gbDoNxGoodsId" column="gb_DO_nx_goods_id"/>
		<result property="gbDoOrderUserId" column="gb_DO_order_user_id"/>
		<result property="gbDoApplyDate" column="gb_DO_apply_date"/>
		<result property="gbDoApplyOnlyTime" column="gb_DO_apply_only_time"/>
		<result property="gbDoApplyFullTime" column="gb_DO_apply_full_time"/>
		<result property="gbDoArriveOnlyDate" column="gb_DO_arrive_only_date"/>
		<result property="gbDoArriveDate" column="gb_DO_arrive_date"/>
		<result property="gbDoArriveWhatDay" column="gb_DO_arrive_what_day"/>
		<result property="gbDoQuantity" column="gb_DO_quantity"/>
		<result property="gbDoStandard" column="gb_DO_standard"/>
		<result property="gbDoDsStandardScale" column="gb_DO_ds_standard_scale"/>
		<result property="gbDoDsStandardId" column="gb_DO_ds_standard_id"/>
		<result property="gbDoRemark" column="gb_DO_remark"/>
		<result property="gbDoStatus" column="gb_DO_status"/>
		<result property="gbDoWeight" column="gb_DO_weight"/>
		<result property="gbDoScaleWeight" column="gb_DO_scale_weight"/>
		<result property="gbDoScalePrice" column="gb_DO_scale_price"/>
		<result property="gbDoPrice" column="gb_DO_price"/>
		<result property="gbDoSubtotal" column="gb_DO_subtotal"/>
		<result property="gbDoBuyStatus" column="gb_DO_buy_status"/>
		<result property="gbDoNxGoodsFatherId" column="gb_DO_nx_goods_father_id"/>
		<result property="gbDoDepartmentFatherId" column="gb_DO_department_father_id"/>
		<result property="gbDoDisGoodsId" column="gb_DO_dis_goods_id"/>
		<result property="gbDoDepDisGoodsId" column="gb_DO_dep_dis_goods_id"/>
		<result property="gbDoDisGoodsFatherId" column="gb_DO_dis_goods_father_id"/>
		<result property="gbDoDepartmentId" column="gb_DO_department_id"/>
		<result property="gbDoDistributerId" column="gb_DO_distributer_id"/>
		<result property="gbDoBuyStatus" column="gb_DO_buy_status"/>

        <result property="gbDoGoodsType" column="gb_DO_goods_type"/>

      <result property="gbDoDgsrReturnId" column="gb_DO_dgsr_return_id"/>
		<result property="gbDoOperationTime" column="gb_DO_operation_time"/>
		<result property="gbDoIsAgent" column="gb_DO_is_agent"/>
		<result property="gbDoPurchaseGoodsId" column="gb_DO_purchase_goods_id"/>
		<result property="gbDoDepDisGoodsId" column="gb_DO_dep_dis_goods_id"/>

        <result property="gbDoGoodsType" column="gb_DO_goods_type"/>

      <result property="gbDoDgsrReturnId" column="gb_DO_dgsr_return_id"/>
		<result property="gbDoNxDepartmentOrderId" column="gb_DO_nx_department_order_id"/>
		<result property="gbDoNxDistributerId" column="gb_DO_distributer_id"/>
		<result property="gbDoNxDistributerGoodsId" column="gb_DO_nx_distributer_goods_id"/>
		<result property="gbDoToDepartmentId" column="gb_DO_to_department_id"/>
		<result property="gbDoReceiveUserId" column="gb_DO_receive_user_id"/>
		<result property="gbDoOrderType" column="gb_DO_order_type"/>
		<result property="gbDoBillId" column="gb_DO_bill_id"/>
		<result property="gbDoPurchaseUserId" column="gb_DO_purchase_user_id"/>
		<result property="gbDoPickUserId" column="gb_DO_pick_user_id"/>
		<result property="gbDoReceiveUserId" column="gb_DO_return_user_id"/>
		<result property="gbDoWeightTotalId" column="gb_DO_weight_total_id"/>
		<result property="gbDoWeightGoodsId" column="gb_DO_weight_goods_id"/>
		<result property="gbDoPriceDifferent" column="gb_DO_price_different"/>
		<association property="gbDepartmentUserEntity" resultMap="orderUser"/>
		<association property="gbDistributerGoodsEntity" resultMap="disGoods"/>
		<association property="orderDepartment" resultMap="orderDep"/>
	</resultMap>

	<resultMap id="orderUser" type="GbDepartmentUserEntity">
		<id property="gbDepartmentUserId" column="gb_department_user_id"/>
		<result property="gbDuLoginTimes" column="gb_DU_login_times"/>
		<result property="gbDuCustomerService" column="gb_DU_customer_service"/>
		<result property="gbDuWxNickName" column="gb_DU_wx_nick_name"/>
		<result property="gbDuWxAvartraUrl" column="gb_DU_wx_avartra_url"/>
		<result property="gbDuUrlChange" column="gb_DU_url_change"/>
		<result property="gbDuPrintDeviceId" column="gb_DU_print_device_id"/>
		<result property="gbDuPrintBillDeviceId" column="gb_DU_print_bill_device_id"/>
	</resultMap>
	<resultMap id="stockRecord" type="GbDepartmentGoodsStockRecordEntity">
		<id property="gbDepartmentGoodsStockRecordId" column="gb_department_goods_stock_record_id"/>
		<result property="gbDgscGbDepartmentId" column="gb_dgsc_gb_department_id"/>
		<result property="gbDgscGbDepartmentFatherId" column="gb_dgsc_gb_department_father_id"/>
		<result property="gbDgscDate" column="gb_dgsc_date"/>
		<result property="gbDgscWeek" column="gb_dgsc_week"/>
		<result property="gbDgscMonth" column="gb_dgsc_month"/>
		<result property="gbDgscYear" column="gb_dgsc_year"/>
		<result property="gbDgscTimeStamp" column="gb_dgsc_time_stamp"/>
		<result property="gbDgscFromGbGoodsStockId" column="gb_dgsc_from_gb_goods_stock_id"/>
		<result property="gbDgscDepSettleId" column="gb_dgsc_from_gb_goods_stock_id"/>
		<result property="gbDgscGbDisGoodsId" column="gb_dgsc_gb_dis_goods_id"/>
		<result property="gbDgscWeight" column="gb_dgsc_weight"/>
		<result property="gbDgscProduceWeight" column="gb_dgsc_produce_weight"/>
		<result property="gbDgscProduceSubtotal" column="gb_dgsc_produce_subttotal"/>
		<result property="gbDgscLossWeight" column="gb_dgsc_loss_weight"/>
		<result property="gbDgscLossSubtotal" column="gb_dgsc_loss_subtotla"/>
		<result property="gbDgscDoWasteWeight" column="gb_dgsc_do_waste_weight"/>
		<result property="gbDgscDoWasteSubtotal" column="gb_dgsc_do_waste_subtotal"/>
		<result property="gbDgscDate" column="gb_dgsc_date"/>
		<result property="gbDgscGbPurGoodsId" column="gb_dgsc_gb_pur_goods_id"/>
		<result property="gbDgscGbFromDepartmentId" column="gb_dgsc_gb_from_department_id"/>
		<result property="gbDgscFullTime" column="gb_dgsc_full_time"/>
		<association property="gbDistributerGoodsEntity" resultMap="disGoods"/>
		<association property="fromDepStockEntity" resultMap="fromDepStock"/>
		<association property="gbDepartmentEntity" resultMap="gbDep"/>
		<association property="gbDepartmentOrdersEntity" resultMap="applys"/>
	</resultMap>
	<select id="queryGoodsStockListByParams" resultMap="stockRecord">
		select *,
		fromgdgs.gb_department_goods_stock_id 'from_gb_department_goods_stock_id',
		fromgdgs.gb_dgs_gb_department_order_id 'from_gb_dgs_gb_department_order_id',
		fromgdgs.gb_dgs_gb_dis_goods_id 'from_gb_dgs_gb_dis_goods_id',
		fromgdgs.gb_dgs_gb_dis_goods_father_id
		'from_gb_dgs_gb_dis_goods_father_id',
		fromgdgs.gb_dgs_gb_distributer_id 'from_gb_dgs_gb_distributer_id',
		fromgdgs.gb_dgs_gb_department_id 'from_gb_dgs_gb_department_id',
		fromgdgs.gb_dgs_price 'from_gb_dgs_price',
		fromgdgs.gb_dgs_weight 'from_gb_dgs_weight',
		fromgdgs.gb_dgs_price 'from_gb_dgs_price',
		fromgdgs.gb_dgs_subtotal 'from_gb_dgs_subtotal',
		fromgdgs.gb_dgs_rest_weight 'from_gb_dgs_rest_weight',
		fromgdgs.gb_dgs_rest_subtotal 'from_gb_dgs_rest_subtotal',
		fromgdgs.gb_dgs_status 'from_gb_dgs_status',
		fromgdgs.gb_dgs_gb_goods_stock_id 'from_gb_dgs_gb_goods_stock_id',
		fromgdgs.gb_dgs_receive_user_id 'from_gb_dgs_receive_user_id',
		fromgdgs.gb_dgs_date 'from_gb_dgs_date',
		fromgdgs.gb_dgs_do_waste_full_time 'from_gb_dgs_do_waste_full_time',
		fromgdgs.gb_dgs_gb_dep_dis_goods_id 'from_gb_dgs_gb_dep_dis_goods_id',
		orderDep.gb_department_id 'orderDep_gb_department_id',
		orderDep.gb_department_name 'orderDep_gb_department_name',
		orderDep.gb_department_father_id 'orderDep_gb_department_father_id' ,
		orderFatherDep.gb_department_id 'orderFatherDep_gb_department_id',
		orderFatherDep.gb_department_name 'orderFatherDep_gb_department_name'
		from gb_department_goods_stock_record as gdgsr
		left join gb_distributer_goods as gdg on gdg.gb_distributer_goods_id = gdgsr.gb_dgsc_gb_dis_goods_id
		left join gb_department_goods_stock as fromgdgs on fromgdgs.gb_department_goods_stock_id =  gdgsr.gb_dgsc_gb_goods_stock_id
		left join gb_department_orders as dor on dor.gb_department_orders_id = gdgsr.gb_dgsc_gb_department_order_id
		left join gb_department_user as gdu on gdu.gb_department_user_id = dor.gb_DO_order_user_id
		left join gb_department_user as recUser on recUser.gb_department_user_id = dor.gb_DO_receive_user_id
		left join gb_department_user as pickerUser on pickerUser.gb_department_user_id = dor.gb_DO_pick_user_id
		left join gb_department as fromDep on fromDep.gb_department_id = dor.gb_DO_to_department_id
		left join gb_department as orderDep on orderDep.gb_department_id = dor.gb_DO_department_id
		left join gb_department as orderFatherDep on orderFatherDep.gb_department_id = dor.gb_DO_department_father_id
		left join gb_department_goods_stock_reduce g on gdgsr.gb_department_goods_stock_record_id = g.gb_dgsr_gb_goods_stock_record_id

		<where>
			<if test="fromDepId != null">
				and gdgsr.gb_dgsc_gb_from_department_id = #{fromDepId}
			</if>
			<if test="depId != null">
				and gdgsr.gb_dgsc_gb_department_id = #{depId}
			</if>
			<if test="depFatherId != null">
				and gdgsr.gb_dgsc_gb_department_father_id = #{depFatherId}
			</if>
			<if test="status != null">
				and gdgsr.gb_dgsc_status  &lt;  #{status}
			</if>
			<if test="dayuStatus != null">
				and gdgsr.gb_dgsc_status  &gt;  #{dayuStatus}
			</if>
			<if test="disGoodsId != null">
				and gdgsr.gb_dgsc_gb_dis_goods_id =  #{disGoodsId}
			</if>
			<if test="depGoodsId != null">
				and gdgsr.gb_dgsc_gb_dep_dis_goods_id =  #{depGoodsId}
			</if>
			<if test="waste != null and waste == 1">
				and gdgsr.gb_dgsc_do_waste_weight > 0
			</if>
			<if test="loss != null and loss == 1">
				and gdgsr.gb_dgsc_loss_weight > 0
			</if>

		</where>
	</select>


<!--    <select id="queryGoodsStockRecordTreeByParams" resultMap="sockLevel">-->
<!--		select * from gb_distributer_goods as dg-->
<!--		left join gb_department_goods_stock_record as gdgsc on dg.gb_distributer_goods_id = gdgsc.gb_dgsc_gb_dis_goods_id-->
<!--		left join gb_department as dep on dep.gb_department_id = gdgsc.gb_dgsc_gb_department_id-->
<!--		<where>-->
<!--			<if test="disId != null">-->
<!--				and gb_dg_distributer_id = #{disId}-->
<!--			</if>-->
<!--			<if test="startDate != null">-->
<!--				and gdgsc.gb_dgsc_date  &gt;= #{startDate}-->
<!--			</if>-->
<!--			<if test="stopDate != null">-->
<!--				and gdgsc.gb_dgsc_date  &lt;=  #{stopDate}-->
<!--			</if>-->
<!--			<if test="status != null">-->
<!--				and gdgsc.gb_dgsc_status &lt; #{status}-->
<!--			</if>-->
<!--			<if test="waste != null and waste == 1">-->
<!--				and gdgsc.gb_dgsc_do_waste_weight > 0-->
<!--			</if>-->
<!--			<if test="loss != null and loss == 1">-->
<!--				and gdgsc.gb_dgsc_loss_weight > 0-->
<!--			</if>-->

<!--		</where>-->
<!--	</select>-->
	<resultMap id="fatherGoods" type="GbDistributerFatherGoodsEntity">
		<id property="gbDistributerFatherGoodsId" column="gb_distributer_father_goods_id"/>
		<result property="gbDfgFathersFatherId" column="gb_dfg_fathers_father_id"/>
		<result property="gbDfgFatherGoodsName" column="gb_dfg_father_goods_name"/>
		<result property="gbDfgFatherGoodsColor" column="gb_dfg_father_goods_color"/>
	</resultMap>
	<select id="queryGoodsStockRecordWasteSubtotal" resultType="java.lang.Double">
		select sum(dgsc.gb_dgsc_do_waste_subtotal) from gb_department_goods_stock_record as dgsc
		left join gb_distributer_goods as dg on dg.gb_distributer_goods_id = dgsc.gb_dgsc_gb_dis_goods_id
		<where>
			<if test="disId != null">
				and gb_dg_distributer_id = #{disId}
			</if>
			<if test="disGoodsId != null">
				and dgsc.gb_dgsc_gb_dis_goods_id = #{disGoodsId}
			</if>
			<if test="startDate != null">
				and dgsc.gb_dgsc_date  &gt;= #{startDate}
			</if>
			<if test="stopDate != null">
				and dgsc.gb_dgsc_date  &lt;  #{stopDate}
			</if>

			<if test="fromDepId != null">
				and dgsc.gb_dgsc_gb_from_department_id = #{fromDepId}
			</if>
			<if test="depId != null">
				and dgsc.gb_dgsc_gb_department_id = #{depId}
			</if>
			<if test="depFatherId != null">
				and dgsc.gb_dgsc_gb_department_father_id = #{depFatherId}
			</if>
			<if test="status != null">
				and dgsc.gb_dgsc_status  &lt;  #{status}
			</if>
			<if test="dayuStatus != null">
				and dgsc.gb_dgsc_status  &gt;  #{dayuStatus}
			</if>
			<if test="equalStatus != null">
				and dgsc.gb_dgsc_status  =  #{equalStatus}
			</if>
			<if test="inventoryType != null">
				and dgsc.gb_dgsc_gb_inventory_type  =  #{inventoryType}
			</if>

		</where>
	</select>
	<select id="queryGoodsStockRecordLossSubtotal" resultType="java.lang.Double">
		select sum(dgsc.gb_dgsc_loss_subtotal) from gb_department_goods_stock_record as dgsc
		left join gb_distributer_goods as dg on dg.gb_distributer_goods_id = dgsc.gb_dgsc_gb_dis_goods_id
		<where>
			<if test="disId != null">
				and gb_dg_distributer_id = #{disId}
			</if>
			<if test="disGoodsId != null">
				and dgsc.gb_dgsc_gb_dis_goods_id = #{disGoodsId}
			</if>
			<if test="startDate != null">
				and dgsc.gb_dgsc_date  &gt;= #{startDate}
			</if>
			<if test="stopDate != null">
				and dgsc.gb_dgsc_date  &lt;  #{stopDate}
			</if>

			<if test="fromDepId != null">
				and dgsc.gb_dgsc_gb_from_department_id = #{fromDepId}
			</if>
			<if test="depId != null">
				and dgsc.gb_dgsc_gb_department_id = #{depId}
			</if>
			<if test="depFatherId != null">
				and dgsc.gb_dgsc_gb_department_father_id = #{depFatherId}
			</if>
			<if test="status != null">
				and dgsc.gb_dgsc_status  &lt;  #{status}
			</if>
			<if test="dayuStatus != null">
				and dgsc.gb_dgsc_status  &gt;  #{dayuStatus}
			</if>
			<if test="equalStatus != null">
				and dgsc.gb_dgsc_status  =  #{equalStatus}
			</if>
			<if test="inventoryType != null">
				and dgsc.gb_dgsc_gb_inventory_type  =  #{inventoryType}
			</if>

		</where>
	</select>
	<select id="queryManyTotal" resultType="java.lang.Double">
		select sum(dgsc.gb_dgsc_inventory_many) from gb_department_goods_stock_record as dgsc
		left join gb_distributer_goods as dg on dg.gb_distributer_goods_id = dgsc.gb_dgsc_gb_dis_goods_id
		<where>
			<if test="startTime != null">
				and dgsc.gb_dgsc_full_time  &gt;= #{startTime}
			</if>
			<if test="stopTime != null">
				and dgsc.gb_dgsc_full_time  &lt;  #{stopTime}
			</if>
			<if test="notDayuStopTime != null">
				and dgsc.gb_dgsc_full_time  &lt;=  #{notDayuStopTime}
			</if>
			<if test="disId != null">
				and dgsc.gb_dgsc_gb_distributer_id = #{disId}
			</if>
			<if test="disGoodsId != null">
				and dgsc.gb_dgsc_gb_dis_goods_id = #{disGoodsId}
			</if>
			<if test="fatherGoodsId != null">
				and dgsc.gb_dgsc_gb_dis_goods_father_id = #{fatherGoodsId}
			</if>
			<if test="startDate != null">
				and dgsc.gb_dgsc_date  &gt;= #{startDate}
			</if>
			<if test="stopDate != null">
				and dgsc.gb_dgsc_date  &lt;  #{stopDate}
			</if>
			<if test="notDayuStopDate != null">
				and dgsc.gb_dgsc_date  &lt;=  #{notDayuStopDate}
			</if>
			<if test="fromDepId != null">
				and dgsc.gb_dgsc_gb_from_department_id = #{fromDepId}
			</if>
			<if test="depId != null">
				and dgsc.gb_dgsc_gb_department_id = #{depId}
			</if>
			<if test="depFatherId != null">
				and dgsc.gb_dgsc_gb_department_father_id = #{depFatherId}
			</if>
			<if test="status != null">
				and dgsc.gb_dgsc_status  &lt;  #{status}
			</if>
			<if test="dayuStatus != null">
				and dgsc.gb_dgsc_status  &gt;  #{dayuStatus}
			</if>
			<if test="equalStatus != null">
				and dgsc.gb_dgsc_status  =  #{equalStatus}
			</if>
			<if test="inventoryType != null">
				and dgsc.gb_dgsc_gb_inventory_type  =  #{inventoryType}
			</if>

		</where>
	</select>
	<resultMap id="grandGoods" type="GbDistributerFatherGoodsEntity">
		<id property="gbDistributerFatherGoodsId" column="ndfgGrant_gb_distributer_father_goods_id"/>
		<result property="gbDfgFathersFatherId" column="ndfgGrant_gb_dfg_fathers_father_id"/>
		<result property="gbDfgFatherGoodsName" column="ndfgGrant_gb_dfg_father_goods_name"/>
		<collection property="fatherGoodsEntities" resultMap="fatherGoods"/>
	</resultMap>

	<resultMap id="greatGrandGoods" type="GbDistributerFatherGoodsEntity">
		<id property="gbDistributerFatherGoodsId" column="ndfgGreatGrand_gb_distributer_father_goods_id"/>
		<result property="gbDfgFathersFatherId" column="ndfgGreatGrand_gb_dfg_fathers_father_id"/>
		<result property="gbDfgFatherGoodsName" column="ndfgGreatGrand_gb_dfg_father_goods_name"/>
		<collection property="fatherGoodsEntities" resultMap="grandGoods"/>
	</resultMap>

	<select id="queryDepStockRecordDisFatherGoodsFather"  resultMap="greatGrandGoods">
		select * ,
		ndfgGrant.gb_distributer_father_goods_id 'ndfgGrant_gb_distributer_father_goods_id',
		ndfgGrant.gb_dfg_fathers_father_id 'ndfgGrant_gb_dfg_fathers_father_id',
		ndfgGrant.gb_dfg_father_goods_name 'ndfgGrant_gb_dfg_father_goods_name',
		ndfgGreatGrand.gb_distributer_father_goods_id 'ndfgGreatGrand_gb_distributer_father_goods_id',
		ndfgGreatGrand.gb_dfg_fathers_father_id 'ndfgGreatGrand_gb_dfg_fathers_father_id',
		ndfgGreatGrand.gb_dfg_father_goods_name 'ndfgGreatGrand_gb_dfg_father_goods_name'

		from gb_department_goods_stock_record as dgsc
		left join gb_distributer_father_goods as ndfg on ndfg.gb_distributer_father_goods_id =
		dgsc.gb_dgsc_gb_dis_goods_father_id
		left join gb_distributer_father_goods as ndfgGrant on ndfgGrant.gb_distributer_father_goods_id =
		ndfg.gb_dfg_fathers_father_id
		left join gb_distributer_father_goods as ndfgGreatGrand on
		ndfgGreatGrand.gb_distributer_father_goods_id = ndfgGrant.gb_dfg_fathers_father_id
		<where>
			<if test="startTime != null">
				and dgsc.gb_dgsc_full_time  &gt;= #{startTime}
			</if>
			<if test="stopTime != null">
				and dgsc.gb_dgsc_full_time  &lt; #{stopTime}
			</if>
			<if test="disId != null">
				and dgsc.gb_dgsc_gb_distributer_id = #{disId}
			</if>
			<if test="disGoodsId != null">
				and dgsc.gb_dgsc_gb_dis_goods_id = #{disGoodsId}
			</if>
			<if test="startDate != null">
				and dgsc.gb_dgsc_date  &gt;= #{startDate}
			</if>
			<if test="stopDate != null">
				and dgsc.gb_dgsc_date  &lt;  #{stopDate}
			</if>
			<if test="notDayuStopDate != null">
				and dgsc.gb_dgsc_date  &lt;=  #{notDayuStopDate}
			</if>
			<if test="status != null">
				and dgsc.gb_dgsc_status &lt; #{status}
			</if>
			<if test="fromDepId != null">
				and dgsc.gb_dgsc_gb_from_department_id = #{fromDepId}
			</if>

			<if test="depId != null">
				and dgsc.gb_dgsc_gb_department_id = #{depId}
			</if>
			<if test="depFatherId != null">
				and dgsc.gb_dgsc_gb_department_father_id = #{depFatherId}
			</if>

			<if test="dayuStatus != null">
				and dgsc.gb_dgsc_status  &gt;  #{dayuStatus}
			</if>
			<if test="equalStatus != null">
				and dgsc.gb_dgsc_status  = #{equalStatus}
			</if>
			<if test="inventoryType != null">
				and dgsc.gb_dgsc_gb_inventory_type  = #{inventoryType}
			</if>


		</where>
		order by ndfgGreatGrand.gb_dfg_father_goods_sort,ndfgGrant.gb_dfg_father_goods_sort,ndfg.gb_dfg_father_goods_sort
	</select>

	<resultMap id="disGoods" type="GbDistributerGoodsEntity">
		<id property="gbDistributerGoodsId" column="gb_distributer_goods_id"/>
		<result property="gbDgGbDepartmentId" column="gb_dg_gb_department_id"/>
		<result property="gbDgGoodsIsHidden" column="gb_dg_goods_is_hidden"/>
		<result property="gbDgGoodsSonsSort" column="gb_dg_goods_sons_sort"/>
		<result property="gbDgSellingPrice" column="gb_dg_selling_price"/>
		<result property="gbDgGoodsName" column="gb_dg_goods_name"/>
		<result property="gbDgGoodsStandardname" column="gb_dg_goods_standardname"/>
		<result property="gbDgGoodsDetail" column="gb_dg_goods_detail"/>
		<result property="gbDgGoodsPlace" column="gb_dg_goods_place"/>
		<result property="gbDgGoodsBrand" column="gb_dg_goods_brand"/>
		<result property="gbDgPullOff" column="gb_dg_pull_off"/>
		<result property="gbDgGoodsIsWeight" column="gb_dg_goods_is_weight"/>
		<result property="gbDgDfgGoodsFatherId" column="gb_dg_dfg_goods_father_id"/>
		<result property="gbDgNxDistributerId" column="gb_dg_gb_distributer_id"/>
		<result property="gbDgNxDistributerGoodsId" column="gb_dg_gb_distributer_goods_id"/>
		<result property="gbDgGbDepartmentId" column="gb_dg_gb_department_id"/>
		<result property="gbDgGbSupplierId" column="gb_dg_gb_supplier_id"/>
		<result property="gbDgGoodsStandardWeight" column="gb_dg_goods_standard_weight"/>
		<result property="gbDgGoodsStatus" column="gb_dg_goods_status"/>
		<result property="gbDgGoodsType" column="gb_dg_goods_type"/>
		<result property="gbDgGbDepartmentId" column="gb_dg_gb_department_id"/>
		<result property="gbDgGbSupplierId" column="gb_dg_gb_supplier_id"/>
		<result property="gbDgNxDistributerId" column="gb_dg_nx_distributer_id"/>
		<result property="gbDgNxDistributerGoodsId" column="gb_dg_nx_distributer_goods_id"/>
		<result property="gbDgGoodsPrice" column="gb_dg_goods_price"/>
		<result property="gbDgGoodsLowestPrice" column="gb_dg_goods_lowest_price"/>
		<result property="gbDgGoodsHighestPrice" column="gb_dg_goods_highest_price"/>
		<result property="gbDgControlPrice" column="gb_dg_control_price"/>
		<result property="gbDgControlFresh" column="gb_dg_control_fresh"/>
		<result property="gbDgFreshWarnHour" column="gb_dg_fresh_warn_hour"/>
		<result property="gbDgFreshWasteHour" column="gb_dg_fresh_waste_hour"/>
		<result property="gbDgGoodsInventoryType" column="gb_dg_goods_inventory_type"/>
		<result property="gbDgGoodsType" column="gb_dg_goods_type"/>
		<result property="gbDgGbSupplierId" column="gb_dg_gb_supplier_id"/>
		<result property="gbDgIsFranchisePrice" column="gb_dg_is_franchise_price"/>
		<result property="gbDgFranchisePriceOne" column="gb_dg_franchise_price_one"/>
		<result property="gbDgFranchisePriceOneUpdate" column="gb_dg_franchise_price_one_update"/>
		<result property="gbDgFranchisePriceTwo" column="gb_dg_franchise_price_two"/>
		<result property="gbDgFranchisePriceTwoUpdate" column="gb_dg_franchise_price_two_update"/>
		<result property="gbDgFranchisePriceThree" column="gb_dg_franchise_price_three"/>
		<result property="gbDgFranchisePriceThreeUpdate" column="gb_dg_franchise_price_three_update"/>
		<result property="gbDgIsSelfControl" column="gb_dg_is_self_control"/>
		<result property="gbDgSelfPrice" column="gb_dg_self_price"/>
	</resultMap>

    <select id="queryDisGoodsByParams" resultMap="disGoods">
		select * from gb_department_goods_stock_record as dgsc
			left join gb_distributer_goods as gdg  on gdg.gb_distributer_goods_id = dgsc.gb_dgsc_gb_dis_goods_id
		<where>
			<if test="startTime != null">
				and dgsc.gb_dgsc_full_time  &gt;= #{startTime}
			</if>
			<if test="stopTime != null">
				and dgsc.gb_dgsc_full_time  &lt; #{stopTime}
			</if>
			<if test="notDayuStopTime != null">
				and dgsc.gb_dgsc_full_time  &lt;=  #{notDayuStopTime}
			</if>
			<if test="disId != null">
				and dgsc.gb_dgsc_gb_distributer_id = #{disId}
			</if>
			<if test="disGoodsId != null">
				and dgsc.gb_dgsc_gb_dis_goods_id = #{disGoodsId}
			</if>
			<if test="startDate != null">
				and dgsc.gb_dgsc_date  &gt;= #{startDate}
			</if>
			<if test="stopDate != null">
				and dgsc.gb_dgsc_date  &lt;  #{stopDate}
			</if>
			<if test="notDayuStopDate != null">
				and dgsc.gb_dgsc_date  &lt;=  #{notDayuStopDate}
			</if>
			<if test="status != null">
				and dgsc.gb_dgsc_status &lt; #{status}
			</if>
			<if test="fromDepId != null">
				and dgsc.gb_dgsc_gb_from_department_id = #{fromDepId}
			</if>

			<if test="depId != null">
				and dgsc.gb_dgsc_gb_department_id = #{depId}
			</if>
			<if test="depFatherId != null">
				and dgsc.gb_dgsc_gb_department_father_id = #{depFatherId}
			</if>

			<if test="dayuStatus != null">
				and dgsc.gb_dgsc_status  &gt;  #{dayuStatus}
			</if>
			<if test="equalStatus != null">
				and dgsc.gb_dgsc_status  = #{equalStatus}
			</if>
			<if test="inventoryType != null">
				and dgsc.gb_dgsc_gb_inventory_type  = #{inventoryType}
			</if>
			<if test="fatherGoodsId != null">
				and dgsc.gb_dgsc_gb_dis_goods_father_id  = #{fatherGoodsId}
			</if>

			<if test="fatherGoodsId != null">
				and dgsc.gb_dgsc_gb_dis_goods_father_id  = #{fatherGoodsId}
			</if>


		</where>

	</select>
    <select id="queryGoodsStockRecordWeightTotal" resultType="java.lang.Double">
		select sum(dgsc.gb_dgsc_weight) from gb_department_goods_stock_record as dgsc
		left join gb_distributer_goods as dg on dg.gb_distributer_goods_id = dgsc.gb_dgsc_gb_dis_goods_id
		<where>
			<if test="startTime != null">
				and dgsc.gb_dgsc_full_time  &gt;= #{startTime}
			</if>
			<if test="stopTime != null">
				and dgsc.gb_dgsc_full_time  &lt;  #{stopTime}
			</if>
			<if test="notDayuStopTime != null">
				and dgsc.gb_dgsc_full_time  &lt;=  #{notDayuStopTime}
			</if>
			<if test="disId != null">
				and dgsc.gb_dgsc_gb_distributer_id = #{disId}
			</if>
			<if test="disGoodsId != null">
				and dgsc.gb_dgsc_gb_dis_goods_id = #{disGoodsId}
			</if>
			<if test="fatherGoodsId != null">
				and dgsc.gb_dgsc_gb_dis_goods_father_id = #{fatherGoodsId}
			</if>
			<if test="startDate != null">
				and dgsc.gb_dgsc_date  &gt;= #{startDate}
			</if>
			<if test="stopDate != null">
				and dgsc.gb_dgsc_date  &lt;  #{stopDate}
			</if>
			<if test="notDayuStopDate != null">
				and dgsc.gb_dgsc_date  &lt;=  #{notDayuStopDate}
			</if>
			<if test="fromDepId != null">
				and dgsc.gb_dgsc_gb_from_department_id = #{fromDepId}
			</if>
			<if test="depId != null">
				and dgsc.gb_dgsc_gb_department_id = #{depId}
			</if>
			<if test="depFatherId != null">
				and dgsc.gb_dgsc_gb_department_father_id = #{depFatherId}
			</if>
			<if test="status != null">
				and dgsc.gb_dgsc_status  &lt;  #{status}
			</if>
			<if test="dayuStatus != null">
				and dgsc.gb_dgsc_status  &gt;  #{dayuStatus}
			</if>
			<if test="equalStatus != null">
				and dgsc.gb_dgsc_status  =  #{equalStatus}
			</if>
			<if test="inventoryType != null">
				and dgsc.gb_dgsc_gb_inventory_type  =  #{inventoryType}
			</if>

		</where>
	</select>
	<resultMap id="reduce" type="GbDepartmentGoodsStockReduceEntity">
		<id property="gbDepartmentGoodsStockReduceId" column="gb_department_goods_stock_reduce_id"/>
		<result property="gbDgsrStockNxDistribtuerId" column="gb_dgsr_stock_nx_distributer_id"/>
		<result property="gbDgsrProfitSubtotal" column="gb_dgsr_profit_subtotal"/>
		<result property="gbDgsrProfitSubtotal" column="gb_dgsr_profit_subtotal"/>
		<result property="gbDgsrGbGoodsStockId" column="gb_dgsr_gb_goods_stock_id"/>
		<result property="gbDgsrGbGoodsStockRecordId" column="gb_dgsr_gb_goods_stock_record_id"/>
		<result property="gbDgsrProduceWeight" column="gb_dgsr_produce_weight"/>
		<result property="gbDgsrProduceSubtotal" column="gb_dgsr_produce_subtotal"/>
		<result property="gbDgsrWasteWeight" column="gb_dgsr_waste_weight"/>
		<result property="gbDgsrWasteSubtotal" column="gb_dgsr_waste_subtotal"/>
		<result property="gbDgsrLossWeight" column="gb_dgsr_loss_weight"/>
		<result property="gbDgsrLossSubtotal" column="gb_dgsr_loss_subtotal"/>
		<result property="gbDgsrDate" column="gb_dgsr_date"/>
		<result property="gbDgsrType" column="gb_dgsr_type"/>
		<result property="gbDgsrStatus" column="gb_dgsr_status"/>
		<result property="gbDgsrDoUserId" column="gb_dgsr_do_user_id"/>
		<result property="gbDgsrFullTime" column="gb_dgsr_full_time"/>
		<result property="gbDgsrGbDepartmentId" column="gb_dgsr_gb_department_id"/>
		<result property="gbDgsrGbDepartmentFatherId" column="gb_dgsr_gb_department_father_id"/>
		<result property="gbDgsrGbDisGoodsId" column="gb_dgsr_gb_dis_goods_id"/>
		<result property="gbDgsrMonth" column="gb_dgsr_month"/>
		<result property="gbDgsrWeek" column="gb_dgsr_week"/>
		<result property="gbDgsrGbDistributerId" column="gb_dgsr_gb_distributer_id"/>
		<result property="gbDgsrReturnWeight" column="gb_dgsr_return_weight"/>
		<result property="gbDgsrReturnSubtotal" column="gb_dgsr_return_subtotal"/>
	</resultMap>
	<resultMap id="stockRecordWithDetail" type="GbDepartmentGoodsStockRecordEntity">
		<id property="gbDepartmentGoodsStockRecordId" column="gb_department_goods_stock_record_id"/>
		<result property="gbDgscGbDepartmentId" column="gb_dgsc_gb_department_id"/>
		<result property="gbDgscGbDepartmentFatherId" column="gb_dgsc_gb_department_father_id"/>
		<result property="gbDgscDate" column="gb_dgsc_date"/>
		<result property="gbDgscFromGbGoodsStockId" column="gb_dgsc_from_gb_goods_stock_id"/>
		<result property="gbDgscDepSettleId" column="gb_dgsc_from_gb_goods_stock_id"/>
		<result property="gbDgscGbDisGoodsId" column="gb_dgsc_gb_dis_goods_id"/>
		<result property="gbDgscWeight" column="gb_dgsc_weight"/>
		<result property="gbDgscProduceWeight" column="gb_dgsc_produce_weight"/>
		<result property="gbDgscProduceSubtotal" column="gb_dgsc_produce_subttotal"/>
		<result property="gbDgscLossWeight" column="gb_dgsc_loss_weight"/>
		<result property="gbDgscLossSubtotal" column="gb_dgsc_loss_subtotla"/>
		<result property="gbDgscDoWasteWeight" column="gb_dgsc_do_waste_weight"/>
		<result property="gbDgscDoWasteSubtotal" column="gb_dgsc_do_waste_subtotal"/>
		<result property="gbDgscDate" column="gb_dgsc_date"/>
		<result property="gbDgscWeek" column="gb_dgsc_week"/>
		<result property="gbDgscMonth" column="gb_dgsc_month"/>
		<result property="gbDgscYear" column="gb_dgsc_year"/>
		<result property="gbDgscTimeStamp" column="gb_dgsc_time_stamp"/>
		<result property="gbDgscFullTime" column="gb_dgsc_full_time"/>
		<result property="gbDgscGbPurGoodsId" column="gb_dgsc_gb_pur_goods_id"/>
		<result property="gbDgscGbFromDepartmentId" column="gb_dgsc_gb_from_department_id"/>
		<result property="gbDgscFullTime" column="gb_dgsc_full_time"/>
		<collection property="goodsStockReduceEntityList" resultMap="reduce" />
	</resultMap>
	<select id="queryDepGoodsStockRecordDetailByParams" resultMap="stockRecordWithDetail">
		select * from gb_department_goods_stock_record as gdgsr
		left join gb_department_goods_stock_reduce g on gdgsr.gb_department_goods_stock_record_id = g.gb_dgsr_gb_goods_stock_record_id
		<where>
			<if test="fromDepId != null">
				and gdgsr.gb_dgsc_gb_from_department_id = #{fromDepId}
			</if>
			<if test="depId != null">
				and gdgsr.gb_dgsc_gb_department_id = #{depId}
			</if>
			<if test="depFatherId != null">
				and gdgsr.gb_dgsc_gb_department_father_id = #{depFatherId}
			</if>
			<if test="status != null">
				and gdgsr.gb_dgsc_status  &lt;  #{status}
			</if>
			<if test="dayuStatus != null">
				and gdgsr.gb_dgsc_status  &gt;  #{dayuStatus}
			</if>
			<if test="disGoodsId != null">
				and gdgsr.gb_dgsc_gb_dis_goods_id =  #{disGoodsId}
			</if>
			<if test="depGoodsId != null">
				and gdgsr.gb_dgsc_gb_dep_dis_goods_id =  #{depGoodsId}
			</if>
			<if test="waste != null and waste == 1">
				and gdgsr.gb_dgsc_do_waste_weight > 0
			</if>
			<if test="loss != null and loss == 1">
				and gdgsr.gb_dgsc_loss_weight > 0
			</if>
			<if test="startDate != null">
				and gdgsr.gb_dgsc_date  &gt;= #{startDate}
			</if>
			<if test="stopDate != null">
				and gdgsr.gb_dgsc_date  &lt;=  #{stopDate}
			</if>

		</where>
         order by g.gb_dgsr_full_time

	</select>


	<insert id="save" parameterType="com.nongxinle.entity.GbDepartmentGoodsStockRecordEntity" useGeneratedKeys="true"
	keyProperty="gbDepartmentGoodsStockRecordId">
		insert into gb_department_goods_stock_record
		(
			`gb_department_goods_stock_record_id`, 
			`gb_dgsc_gb_department_id`,
			`gb_dgsc_gb_department_father_id`, 
			`gb_dgsc_gb_dis_goods_id`, 
			`gb_dgsc_gb_dep_dis_goods_id`, 
			`gb_dgsc_gb_department_order_id`, 
			`gb_dgsc_weight`, 
			`gb_dgsc_price`, 
			`gb_dgsc_subtotal`, 
			`gb_dgsc_rest_weight`, 
			`gb_dgsc_rest_subtotal`, 
			`gb_dgsc_date`, 
			`gb_dgsc_receive_user_id`, 
			`gb_dgsc_status`, 
			`gb_dgsc_gb_pur_goods_id`, 
			`gb_dgsc_gb_goods_stock_id`, 
			`gb_dgsc_gb_from_department_id`, 
			`gb_dgsc_inventory_date`, 
			`gb_dgsc_inventory_week`, 
			`gb_dgsc_inventory_month`, 
			`gb_dgsc_gb_dis_goods_father_id`, 
			`gb_dgsc_full_time`, 
			`gb_dgsc_warn_full_time`, 
			`gb_dgsc_waste_full_time`, 
			`gb_dgsc_do_waste_weight`, 
			`gb_dgsc_do_waste_subtotal`, 
			`gb_dgsc_do_waste_full_time`, 
			`gb_dgsc_do_waste_user_id`, 
			`gb_dgsc_loss_weight`, 
			`gb_dgsc_loss_subtotal`,
			`gb_dgsc_dep_settle_id`,
			`gb_dgsc_return_weight`,
			`gb_dgsc_return_subtotal`,
			`gb_dgsc_dep_dis_goods_settle_id`,
		 	`gb_dgsc_from_dep_settle_id`,
		 	`gb_dgsc_from_gb_goods_stock_id`,
		 	`gb_dgsc_produce_weight`,
		 	`gb_dgsc_produce_subtotal`,
		 	`gb_dgsc_gb_distributer_id`,
		 	`gb_dgsc_inventory_many`,
		 	`gb_dgsc_gb_inventory_type`,
		 	`gb_dgsc_selling_price`,
		 	`gb_dgsc_selling_subtotal`,
		 	`gb_dgsc_profit_price`,
		 	`gb_dgsc_profit_weight`,
		 	`gb_dgsc_profit_subtotal`,
		 	`gb_dgsc_week`,
		 	`gb_dgsc_month`,
		 	`gb_dgsc_year`,
		 	`gb_dgsc_time_stamp`
		)
		values
		(
			#{gbDepartmentGoodsStockRecordId}, 
			#{gbDgscGbDepartmentId}, 
			#{gbDgscGbDepartmentFatherId}, 
			#{gbDgscGbDisGoodsId}, 
			#{gbDgscGbDepDisGoodsId}, 
			#{gbDgscGbDepartmentOrderId}, 
			#{gbDgscWeight}, 
			#{gbDgscPrice}, 
			#{gbDgscSubtotal}, 
			#{gbDgscRestWeight}, 
			#{gbDgscRestSubtotal}, 
			#{gbDgscDate}, 
			#{gbDgscReceiveUserId}, 
			#{gbDgscStatus}, 
			#{gbDgscGbPurGoodsId}, 
			#{gbDgscGbGoodsStockId}, 
			#{gbDgscGbFromDepartmentId}, 
			#{gbDgscInventoryDate}, 
			#{gbDgscInventoryWeek}, 
			#{gbDgscInventoryMonth}, 
			#{gbDgscGbDisGoodsFatherId}, 
			#{gbDgscFullTime}, 
			#{gbDgscWarnFullTime}, 
			#{gbDgscWasteFullTime}, 
			#{gbDgscDoWasteWeight}, 
			#{gbDgscDoWasteSubtotal}, 
			#{gbDgscDoWasteFullTime}, 
			#{gbDgscDoWasteUserId}, 
			#{gbDgscLossWeight}, 
			#{gbDgscLossSubtotal}, 
			#{gbDgscDepSettleId},
			#{gbDgscReturnWeight},
			#{gbDgscReturnSubtotal},
			#{gbDgscDepDisGoodsSettleId},
		 	#{gbDgscFromDepSettleId},
		 	#{gbDgscFromGbGoodsStockId},
		 	#{gbDgscProduceWeight},
		 	#{gbDgscProduceSubtotal},
		 	#{gbDgscGbDistributerId},
		 	#{gbDgscInventoryMany},
		 	#{gbDgscDgInventoryType},
		 	#{gbDgscSellingPrice},
		 	#{gbDgscSellingSubtotal},
		 	#{gbDgscProfitPrice},
		 	#{gbDgscProfitWeight},
		 	#{gbDgscProfitSubtotal},
		 	#{gbDgscWeek},
		 	#{gbDgscMonth},
		 	#{gbDgscYear},
		 	#{gbDgscTimeStamp}
		)
	</insert>
	 
	<update id="update" parameterType="com.nongxinle.entity.GbDepartmentGoodsStockRecordEntity">
		update gb_department_goods_stock_record 
		<set>
			<if test="gbDgscGbDepartmentId != null">`gb_dgsc_gb_department_id` = #{gbDgscGbDepartmentId}, </if>
			<if test="gbDgscGbDepartmentFatherId != null">`gb_dgsc_gb_department_father_id` = #{gbDgscGbDepartmentFatherId}, </if>
			<if test="gbDgscGbDistributerId != null">`gb_dgsc_gb_distributer_id` = #{gbDgscGbDistributerId}, </if>
			<if test="gbDgscGbDisGoodsId != null">`gb_dgsc_gb_dis_goods_id` = #{gbDgscGbDisGoodsId}, </if>
			<if test="gbDgscGbDepDisGoodsId != null">`gb_dgsc_gb_dep_dis_goods_id` = #{gbDgscGbDepDisGoodsId}, </if>
			<if test="gbDgscGbDepartmentOrderId != null">`gb_dgsc_gb_department_order_id` = #{gbDgscGbDepartmentOrderId}, </if>
			<if test="gbDgscWeight != null">`gb_dgsc_weight` = #{gbDgscWeight}, </if>
			<if test="gbDgscPrice != null">`gb_dgsc_price` = #{gbDgscPrice}, </if>
			<if test="gbDgscSubtotal != null">`gb_dgsc_subtotal` = #{gbDgscSubtotal}, </if>
			<if test="gbDgscRestWeight != null">`gb_dgsc_rest_weight` = #{gbDgscRestWeight}, </if>
			<if test="gbDgscRestSubtotal != null">`gb_dgsc_rest_subtotal` = #{gbDgscRestSubtotal}, </if>
			<if test="gbDgscDate != null">`gb_dgsc_date` = #{gbDgscDate}, </if>
			<if test="gbDgscReceiveUserId != null">`gb_dgsc_receive_user_id` = #{gbDgscReceiveUserId}, </if>
			<if test="gbDgscStatus != null">`gb_dgsc_status` = #{gbDgscStatus}, </if>
			<if test="gbDgscGbPurGoodsId != null">`gb_dgsc_gb_pur_goods_id` = #{gbDgscGbPurGoodsId}, </if>
			<if test="gbDgscGbGoodsStockId != null">`gb_dgsc_gb_goods_stock_id` = #{gbDgscGbGoodsStockId}, </if>
			<if test="gbDgscGbFromDepartmentId != null">`gb_dgsc_gb_from_department_id` = #{gbDgscGbFromDepartmentId}, </if>
			<if test="gbDgscInventoryDate != null">`gb_dgsc_inventory_date` = #{gbDgscInventoryDate}, </if>
			<if test="gbDgscInventoryWeek != null">`gb_dgsc_inventory_week` = #{gbDgscInventoryWeek}, </if>
			<if test="gbDgscInventoryMonth != null">`gb_dgsc_inventory_month` = #{gbDgscInventoryMonth}, </if>
			<if test="gbDgscGbDisGoodsFatherId != null">`gb_dgsc_gb_dis_goods_father_id` = #{gbDgscGbDisGoodsFatherId}, </if>
			<if test="gbDgscFullTime != null">`gb_dgsc_full_time` = #{gbDgscFullTime}, </if>
			<if test="gbDgscWarnFullTime != null">`gb_dgsc_warn_full_time` = #{gbDgscWarnFullTime}, </if>
			<if test="gbDgscWasteFullTime != null">`gb_dgsc_waste_full_time` = #{gbDgscWasteFullTime}, </if>
			<if test="gbDgscDoWasteWeight != null">`gb_dgsc_do_waste_weight` = #{gbDgscDoWasteWeight}, </if>
			<if test="gbDgscDoWasteSubtotal != null">`gb_dgsc_do_waste_subtotal` = #{gbDgscDoWasteSubtotal}, </if>
			<if test="gbDgscDoWasteFullTime != null">`gb_dgsc_do_waste_full_time` = #{gbDgscDoWasteFullTime}, </if>
			<if test="gbDgscDoWasteUserId != null">`gb_dgsc_do_waste_user_id` = #{gbDgscDoWasteUserId}, </if>
			<if test="gbDgscLossWeight != null">`gb_dgsc_loss_weight` = #{gbDgscLossWeight}, </if>
			<if test="gbDgscLossSubtotal != null">`gb_dgsc_loss_subtotal` = #{gbDgscLossSubtotal}, </if>
			<if test="gbDgscReturnWeight != null">`gb_dgsc_return_weight` = #{gbDgscReturnWeight}, </if>
			<if test="gbDgscReturnSubtotal != null">`gb_dgsc_return_subtotal` = #{gbDgscReturnSubtotal}, </if>
			<if test="gbDgscFromDepSettleId != null">`gb_dgsc_from_dep_settle_id` = #{gbDgscFromDepSettleId}, </if>
			<if test="gbDgscDepDisGoodsSettleId != null">`gb_dgsc_dep_dis_goods_settle_id` = #{gbDgscDepDisGoodsSettleId}, </if>
			<if test="gbDgscFromGbGoodsStockId != null">`gb_dgsc_from_gb_goods_stock_id` = #{gbDgscFromGbGoodsStockId}, </if>
			<if test="gbDgscProduceWeight != null">`gb_dgsc_produce_weight` = #{gbDgscProduceWeight}, </if>
			<if test="gbDgscProduceSubtotal != null">`gb_dgsc_produce_subtotal` = #{gbDgscProduceSubtotal}, </if>
			<if test="gbDgscInventoryMany != null">`gb_dgsc_inventory_many` = #{gbDgscInventoryMany}, </if>
			<if test="gbDgscDgInventoryType != null">`gb_dgsc_dg_inventory_type` = #{gbDgscDgInventoryType}, </if>
			<if test="gbDgscSellingPrice != null">`gb_dgsc_selling_price` = #{gbDgscSellingPrice}, </if>
			<if test="gbDgscSellingSubtotal != null">`gb_dgsc_selling_subtotal` = #{gbDgscSellingSubtotal}, </if>
			<if test="gbDgscProfitPrice != null">`gb_dgsc_profit_price` = #{gbDgscProfitPrice}, </if>
			<if test="gbDgscProfitWeight != null">`gb_dgsc_profit_weight` = #{gbDgscProfitWeight}, </if>
			<if test="gbDgscProfitSubtotal != null">`gb_dgsc_profit_subtotal` = #{gbDgscProfitSubtotal}, </if>
			<if test="gbDgscWeek != null">`gb_dgsc_week` = #{gbDgscWeek}, </if>
			<if test="gbDgscMonth != null">`gb_dgsc_month` = #{gbDgscMonth}, </if>
			<if test="gbDgscYear != null">`gb_dgsc_year` = #{gbDgscYear}, </if>
			<if test="gbDgscTimeStamp != null">`gb_dgsc_time_stamp` = #{gbDgscTimeStamp}, </if>
			<if test="gbDgscDepSettleId != null">`gb_dgsc_dep_settle_id` = #{gbDgscDepSettleId}</if>
		</set>
		where gb_department_goods_stock_record_id = #{gbDepartmentGoodsStockRecordId}
	</update>
	
	<delete id="delete">
		delete from gb_department_goods_stock_record where gb_department_goods_stock_record_id = #{value}
	</delete>
	
	<delete id="deleteBatch">
		delete from gb_department_goods_stock_record where gb_department_goods_stock_record_id in 
		<foreach item="gbDepartmentGoodsStockRecordId" collection="array" open="(" separator="," close=")">
			#{gbDepartmentGoodsStockRecordId}
		</foreach>
	</delete>

</mapper>