<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.nongxinle.dao.GbDistributerPurchaseBatchDao">


    <resultMap id="disGoods" type="GbDistributerGoodsEntity">
        <id property="gbDistributerGoodsId" column="gb_distributer_goods_id"/>
		<result property="gbDgGbDepartmentId" column="gb_dg_gb_department_id"/>
		<result property="gbDgGoodsIsHidden" column="gb_dg_goods_is_hidden"/>
		<result property="gbDgGoodsSonsSort" column="gb_dg_goods_sons_sort"/>
		<result property="gbDgSellingPrice" column="gb_dg_selling_price"/>
        <result property="gbDgPullOff" column="gb_dg_pull_off"/>
        <result property="gbDgDfgGoodsFatherId" column="gb_dg_dfg_goods_father_id"/>
        <result property="gbDgNxGoodsId" column="gb_dg_nx_goods_id"/>
        <result property="gbDgNxFatherId" column="gb_dg_nx_father_id"/>
        <result property="gbDgGoodsName" column="gb_dg_goods_name"/>
        <result property="gbDgGoodsStandardname" column="gb_dg_goods_standardname"/>
        <result property="gbDgGoodsDetail" column="gb_dg_goods_detail"/>
        <result property="gbDgGoodsBrand" column="gb_dg_goods_brand"/>
        <result property="gbDgGoodsPlace" column="gb_dg_goods_place"/>
        <result property="gbDgGoodsIsWeight" column="gb_dg_goods_is_weight"/>
        <result property="gbDgGoodsPrice" column="gb_dg_goods_price"/>
        <result property="gbDgGoodsLowestPrice" column="gb_dg_goods_lowest_price"/>
        <result property="gbDgGoodsHighestPrice" column="gb_dg_goods_highest_price"/>
        <result property="gbDgControlPrice" column="gb_dg_control_price"/>
        <result property="gbDgControlFresh" column="gb_dg_control_fresh"/>
        <result property="gbDgFreshWarnHour" column="gb_dg_fresh_warn_hour"/>
        <result property="gbDgFreshWasteHour" column="gb_dg_fresh_waste_hour"/>
        <result property="gbDgGoodsInventoryType" column="gb_dg_goods_inventory_type"/>
        <result property="gbDgGbSupplierId" column="gb_dg_gb_supplier_id"/>
        <result property="gbDgIsFranchisePrice" column="gb_dg_is_franchise_price"/>
        <result property="gbDgFranchisePriceOne" column="gb_dg_franchise_price_one"/>
        <result property="gbDgFranchisePriceOneUpdate" column="gb_dg_franchise_price_one_update"/>
        <result property="gbDgFranchisePriceTwo" column="gb_dg_franchise_price_two"/>
        <result property="gbDgFranchisePriceTwoUpdate" column="gb_dg_franchise_price_two_update"/>
        <result property="gbDgFranchisePriceThree" column="gb_dg_franchise_price_three"/>
        <result property="gbDgFranchisePriceThreeUpdate" column="gb_dg_franchise_price_three_update"/>
        <result property="gbDgIsSelfControl" column="gb_dg_is_self_control"/>
        <result property="gbDgSelfPrice" column="gb_dg_self_price"/>
        <association property="gbDepartmentOrdersEntity" resultMap="depOrders"/>
    </resultMap>

    <resultMap id="fatherDep" type="GbDepartmentEntity">
        <id property="gbDepartmentId" column="depf_gb_department_id"/>
        <result property="gbDepartmentName" column="depf_gb_department_name"/>
        <result property="gbDepartmentAttrName" column="depf_gb_department_attr_name"/>
    </resultMap>

    <resultMap id="dep" type="GbDepartmentEntity">
        <id property="gbDepartmentId" column="gb_department_id"/>
		<result property="gbDepartmentNamePy" column="gb_department_name_py"/>
        <result property="gbDepartmentType" column="gb_department_type"/>
        <result property="gbDepartmentName" column="gb_department_name"/>
        <result property="gbDepartmentAttrName" column="gb_department_attr_name"/>
        <result property="gbDepartmentFatherId" column="gb_department_father_id"/>
        <result property="gbDepartmentLevel" column="gb_department_level"/>
        <association property="fatherGbDepartmentEntity" resultMap="fatherDep"/>
    </resultMap>

    <resultMap id="depOrders" type="GbDepartmentOrdersEntity">
        <id property="gbDepartmentOrdersId" column="gb_department_orders_id"/>
        <result property="gbDoSellingPrice" column="gb_DO_selling_price"/>
        <result property="gbDoSellingSubtotal" column="gb_DO_selling_subtotal"/>
        <result property="gbDoNxGoodsId" column="gb_DO_gb_goods_id"/>
        <result property="gbDoOrderUserId" column="gb_DO_order_user_id"/>
        <result property="gbDoApplyDate" column="gb_DO_apply_date"/>
        <result property="gbDoApplyArriveDate" column="gb_DO_apply_arrive_date"/>
        <result property="gbDoApplyOnlyTime" column="gb_DO_apply_only_time"/>
        <result property="gbDoApplyFullTime" column="gb_DO_apply_full_time"/>
        <result property="gbDoArriveOnlyDate" column="gb_DO_arrive_only_date"/>
        <result property="gbDoArriveDate" column="gb_DO_arrive_date"/>
        <result property="gbDoArriveWhatDay" column="gb_DO_arrive_what_day"/>
        <result property="gbDoQuantity" column="gb_DO_quantity"/>
        <result property="gbDoStandard" column="gb_DO_standard"/>
        <result property="gbDoDsStandardScale" column="gb_DO_ds_standard_scale"/>
        <result property="gbDoDsStandardId" column="gb_DO_ds_standard_id"/>
        <result property="gbDoDsStandardScale" column="gb_DO_ds_standard_scale"/>
        <result property="gbDoRemark" column="gb_DO_remark"/>
        <result property="gbDoStatus" column="gb_DO_status"/>
        <result property="gbDoWeight" column="gb_DO_weight"/>
        <result property="gbDoScaleWeight" column="gb_DO_scale_weight"/>
        <result property="gbDoScalePrice" column="gb_DO_scale_price"/>
        <result property="gbDoPrice" column="gb_DO_price"/>
        <result property="gbDoSubtotal" column="gb_DO_subtotal"/>
        <result property="gbDoBuyStatus" column="gb_DO_buy_status"/>
        <result property="gbDoNxGoodsFatherId" column="gb_DO_gb_goods_father_id"/>
        <result property="gbDoDepartmentFatherId" column="gb_DO_department_father_id"/>
        <result property="gbDoDisGoodsId" column="gb_DO_dis_goods_id"/>
        <result property="gbDoDepDisGoodsId" column="gb_DO_dep_dis_goods_id"/>
        <result property="gbDoDepartmentId" column="gb_DO_department_id"/>
        <result property="gbDoDistributerId" column="gb_DO_distributer_id"/>
        <result property="gbDoBuyStatus" column="gb_DO_buy_status"/>
        <result property="gbDoGoodsType" column="gb_DO_goods_type"/>
        <result property="gbDoDgsrReturnId" column="gb_DO_dgsr_return_id"/>
        <result property="gbDoOperationTime" column="gb_DO_operation_time"/>
        <result property="gbDoIsAgent" column="gb_DO_is_agent"/>
        <result property="gbDoPurchaseGoodsId" column="gb_DO_purchase_goods_id"/>
        <result property="gbDoDepDisGoodsId" column="gb_DO_dep_dis_goods_id"/>
        <result property="gbDoOrderType" column="gb_DO_order_type"/>
        <result property="gbDoBillId" column="gb_DO_bill_id"/>
        <result property="gbDoReceiveUserId" column="gb_DO_receive_user_id"/>
        <result property="gbDoPurchaseUserId" column="gb_DO_purchase_user_id"/>
        <result property="gbDoReceiveUserId" column="gb_DO_return_user_id"/>
        <result property="gbDoWeightTotalId" column="gb_DO_weight_total_id"/>
        <result property="gbDoWeightGoodsId" column="gb_DO_weight_goods_id"/>
        <result property="gbDoPriceDifferent" column="gb_DO_price_different"/>
        <association property="gbDepartmentEntity" resultMap="dep"/>
    </resultMap>
    <resultMap id="depsOrders" type="GbDepartmentOrdersEntity">
        <id property="gbDepartmentOrdersId" column="gb_department_orders_id"/>
        <result property="gbDoSellingPrice" column="gb_DO_selling_price"/>
        <result property="gbDoSellingSubtotal" column="gb_DO_selling_subtotal"/>
        <result property="gbDoNxGoodsId" column="gb_DO_nx_goods_id"/>
        <result property="gbDoOrderUserId" column="gb_DO_order_user_id"/>
        <result property="gbDoApplyDate" column="gb_DO_apply_date"/>
        <result property="gbDoApplyArriveDate" column="gb_DO_apply_arrive_date"/>
        <result property="gbDoApplyOnlyTime" column="gb_DO_apply_only_time"/>
        <result property="gbDoApplyFullTime" column="gb_DO_apply_full_time"/>
        <result property="gbDoArriveOnlyDate" column="gb_DO_arrive_only_date"/>
        <result property="gbDoArriveDate" column="gb_DO_arrive_date"/>
        <result property="gbDoArriveWhatDay" column="gb_DO_arrive_what_day"/>
        <result property="gbDoQuantity" column="gb_DO_quantity"/>
        <result property="gbDoStandard" column="gb_DO_standard"/>
        <result property="gbDoDsStandardScale" column="gb_DO_ds_standard_scale"/>
        <result property="gbDoDsStandardId" column="gb_DO_ds_standard_id"/>
        <result property="gbDoDsStandardScale" column="gb_DO_ds_standard_scale"/>
        <result property="gbDoRemark" column="gb_DO_remark"/>
        <result property="gbDoStatus" column="gb_DO_status"/>
        <result property="gbDoWeight" column="gb_DO_weight"/>
        <result property="gbDoScaleWeight" column="gb_DO_scale_weight"/>
        <result property="gbDoScalePrice" column="gb_DO_scale_price"/>
        <result property="gbDoPrice" column="gb_DO_price"/>
        <result property="gbDoSubtotal" column="gb_DO_subtotal"/>
        <result property="gbDoBuyStatus" column="gb_DO_buy_status"/>
        <result property="gbDoNxGoodsFatherId" column="gb_DO_nx_goods_father_id"/>
        <result property="gbDoDepartmentFatherId" column="gb_DO_department_father_id"/>
        <result property="gbDoDisGoodsId" column="gb_DO_dis_goods_id"/>
        <result property="gbDoDepDisGoodsId" column="gb_DO_dep_dis_goods_id"/>
        <result property="gbDoDepartmentId" column="gb_DO_department_id"/>
        <result property="gbDoDistributerId" column="gb_DO_distributer_id"/>
        <result property="gbDoBuyStatus" column="gb_DO_buy_status"/>

        <result property="gbDoGoodsType" column="gb_DO_goods_type"/>

      <result property="gbDoDgsrReturnId" column="gb_DO_dgsr_return_id"/>
        <result property="gbDoOperationTime" column="gb_DO_operation_time"/>
        <result property="gbDoIsAgent" column="gb_DO_is_agent"/>
        <result property="gbDoPurchaseGoodsId" column="gb_DO_purchase_goods_id"/>
        <result property="gbDoDepDisGoodsId" column="gb_DO_dep_dis_goods_id"/>
        <result property="gbDoOrderType" column="gb_DO_order_type"/>
        <result property="gbDoBillId" column="gb_DO_bill_id"/>
        <result property="gbDoReceiveUserId" column="gb_DO_receive_user_id"/>
        <result property="gbDoPurchaseUserId" column="gb_DO_purchase_user_id"/>
        <result property="gbDoReceiveUserId" column="gb_DO_return_user_id"/>
        <result property="gbDoWeightTotalId" column="gb_DO_weight_total_id"/>
        <result property="gbDoWeightGoodsId" column="gb_DO_weight_goods_id"/>
        <result property="gbDoPriceDifferent" column="gb_DO_price_different"/>
        <association property="gbDepartmentEntity" resultMap="dep"/>
    </resultMap>
    <resultMap id="purchaseGoods" type="GbDistributerPurchaseGoodsEntity">

		<id property="gbDistributerPurchaseGoodsId" column="gb_distributer_purchase_goods_id"/>
		<result property="gbDpgPurchaseNxDistributerId" column="gb_DPG_purchase_nx_distributer_id"/>
        <result property="gbDpgOrdersFinishAmount" column="gb_DPG_orders_finish_amount"/>
        <result property="gbDpgDisGoodsId" column="gb_DPG_dis_goods_id"/>
        <result property="gbDpgDisGoodsFatherId" column="gb_DPG_dis_goods_father_id"/>
        <result property="gbDpgQuantity" column="gb_DPG_quantity"/>
        <result property="gbDpgStandard" column="gb_DPG_standard"/>
        <result property="gbDpgPurUserId" column="gb_DPG_pur_user_id"/>
        <result property="gbDpgStatus" column="gb_DPG_status"/>
        <result property="gbDpgBuyPrice" column="gb_DPG_buy_price"/>
        <result property="gbDpgBuyScalePrice" column="gb_Dpg_buy_scale_price"/>
        <result property="gbDpgBuyScaleQuantity" column="gb_Dpg_buy_scale_quantity"/>
        <result property="gbDpgBuySubtotal" column="gb_DPG_buy_subtotal"/>
        <result property="gbDpgBuyQuantity" column="gb_DPG_buy_quantity"/>
        <result property="gbDpgPurchaseType" column="gb_DPG_purchase_type"/>
		<result property="gbDpgPayType" column="gb_DPG_pay_type"/>
        <result property="gbDpgOrdersAmount" column="gb_DPG_orders_amount"/>
        <result property="gbDpgTypeAddUserId" column="gb_DPG_type_add_user_id"/>
        <result property="gbDpgInputType" column="gb_DPG_input_type"/>
        <result property="gbDpgTime" column="gb_DPG_time"/>
        <result property="gbDpgDistributerId" column="gb_DPG_distributer_id"/>
        <result property="gbDpgInputType" column="gb_DPG_input_type"/>
        <result property="gbDpgPurchaseType" column="gb_DPG_purchase_type"/>
		<result property="gbDpgPayType" column="gb_DPG_pay_type"/>
        <result property="gbDpgPurchaseFullTime" column="gb_DPG_purchase_full_time"/>
        <result property="gbDpgBuySubtotal" column="gb_DPG_buy_subtotal"/>
        <result property="gbDpgPurchaseMonth" column="gb_DPG_purchase_month"/>
        <result property="gbDpgPurchaseDate"  column="gb_DPG_purchase_date"/>
        <result property="gbDpgPurchaseYear" column="gb_DPG_purchase_year"/>
        <result property="gbDpgDisGoodsPriceId" column="gb_DPG_dis_goods_price_id"/>
        <result property="gbDpgPurUserId" column="gb_DPG_pur_user_id"/>
        <result property="gbDpgPurchaseDepartmentId" column="gb_DPG_purchase_department_id"/>
        <result property="gbDpgPurchaseWeek" column="gb_DPG_purchase_week"/>
        <result property="gbDpgPurchaseWeekYear" column="gb_DPG_purchase_week_year"/>
        <result property="gbDpgBatchId" column="gb_DPG_batch_id"/>
        <result property="gbDpgBuyScaleQuantity" column="gb_DPG_buy_scale_quantity"/>
        <result property="gbDpgBuyScale" column="gb_DPG_buy_scale"/>
        <result property="gbDpgBuyScalePrice" column="gb_DPG_buy_scale_price"/>
        <result property="gbDpgBuyPriceReason" column="gb_DPG_buy_price_reason"/>
        <result property="gbDpgWarnFullTime" column="gb_DPG_warn_full_time"/>
        <result property="gbDpgWasteFullTime" column="gb_DPG_waste_full_time"/>
        <association property="gbDistributerGoodsEntity" resultMap="disGoods"/>
        <collection property="gbDepartmentOrdersEntities" resultMap="depOrders"/>
    </resultMap>

    <resultMap id="pur" type="GbDistributerPurchaseBatchEntity">
        <id property="gbDistributerPurchaseBatchId" column="gb_distributer_purchase_batch_id"/>
        <result property="gbDpbSellUserId" column="gb_DPB_sell_user_id"/>
        <result property="gbDpbBuyUserId" column="gb_DPB_buy_user_id"/>
        <result property="gbDpbDistributerId" column="gb_DPB_distributer_id"/>
        <result property="gbDpbUserAdminType" column="gb_DPB_user_admin_type"/>
        <result property="gbDpbTime" column="gb_DPB_time"/>
        <result property="gbDpbSubtotal" column="gb_DPB_subtotal"/>
        <result property="gbDpbPurchaseWeek" column="gb_DPB_purchase_week"/>
        <collection property="gbDPGEntities" resultMap="purchaseGoods"/>
    </resultMap>


    <resultMap id="disModule" type="GbDistributerModuleEntity">
        <id property="gbDistributerModuleId" column="gb_distributer_module_id"/>
        <result property="gbDmFixedSupplierNumber" column="gb_dm_fixed_supplier_number"/>
        <result property="gbDmPurchaseNumber" column="gb_dm_purchase_number"/>
        <result property="gbDmStockNumber" column="gb_dm_stock_number"/>
        <result property="gbDmAppSupplierNumber" column="gb_dm_app_supplier_number"/>
        <result property="gbDmCentralKitchenNumber" column="gb_dm_central_kitchen_number"/>
        <result property="gbDmDirectSalesNumber" column="gb_dm_direct_sales_number"/>
        <result property="gbDmFranchiseeNumber" column="gb_dm_franchisee_number"/>
        <result property="gbDmDistributerId" column="gb_dm_distributer_id"/>
    </resultMap>

    <resultMap id="dis" type="GbDistributerEntity">
        <id property="gbDistributerId" column="gb_distributer_id"/>
        <result property="gbDistributerBusinessType" column="gb_distributer_business_type"/>
        <result property="gbDistributerName" column="gb_distributer_name"/>
        <result property="gbDistributerImg" column="gb_distributer_img"/>
        <result property="gbDistributerSettleDate" column="gb_distributer_settle_date"/>
        <result property="gbDistributerSettleMonth" column="gb_distributer_settle_month"/>
        <result property="gbDistributerSettleWeek" column="gb_distributer_settle_week"/>
        <result property="gbDistributerSettleFullTime" column="gb_distributer_settle_full_time"/>
        <result property="gbDistributerSettleTimes" column="gb_distributer_settle_times"/>
        <result property="gbDistributerSettleYear" column="gb_distributer_settle_year"/>
        <result property="gbDistributerTimeQuantum" column="gb_distributer_time_quantum"/>
        <association property="gbDistributerModuleEntity" resultMap="disModule"/>
    </resultMap>
    <resultMap id="qyCorpUser" type="QyGbDisCorpUserEntity">
        <id property="qyGbDisCorpUserId" column="qy_gb_dis_corp_user_id"/>
        <result property="qyGbDisCorpOpenUserId" column="qy_gb_dis_corp_open_user_id"/>
        <result property="qyGbDisCorpQyCorpId" column="qy_gb_dis_corp_qy_corp_id"/>
        <result property="qyGbDisCorpSessionKey" column="qy_gb_dis_corp_session_key"/>
        <result property="qyGbDisCorpUserName" column="qy_gb_dis_corp_user_name"/>
        <result property="qyGbDisCorpUserJoinDate" column="qy_gb_dis_corp_user_join_date"/>
        <result property="qyGbDistributerId" column="qy_gb_distributer_id"/>
    </resultMap>
    <resultMap id="disUser" type="GbDistributerUserEntity">
         <id property="gbDistributerUserId" column="gb_distributer_user_id"/>
        <result property="gbDiuLoginTimes" column="gb_DIU_login_times"/>
        <result property="gbDiuLoginTimes" column="gb_DIU_login_times"/>
        <result property="gbDiuQyCorpUserId" column="gb_DIU_qy_corp_user_id"/>
        <result property="gbDiuWxNickName" column="gb_DIU_wx_nick_name"/>
        <result property="gbDiuWxAvartraUrl" column="gb_DIU_wx_avartra_url"/>
        <result property="gbDiuPrintDeviceId" column="gb_DIU_print_device_id"/>
        <result property="gbDiuDistributerId" column="gb_DIU_distributer_id"/>
        <result property="gbDiuUrlChange" column="gb_DIU_url_change"/>
        <result property="gbDiuAdmin" column="gb_DIU_admin"/>
        <association property="qyGbDisCorpUserEntity" resultMap="qyCorpUser"/>

        <association property="gbDistributerEntity" resultMap="dis"/>

    </resultMap>

    <resultMap id="gbSupplier" type="GbDistributerSupplierEntity">
        <id property="gbDistributerSupplierId" column="gb_distributer_supplier_id"/>
        <result property="gbDistributerSupplierName" column="gb_distributer_supplier_name"/>
        <result property="gbDsGbDistributerId" column="gb_DS_gb_distributer_id"/>
        <result property="gbDsSupplierUserId" column="gb_DS_supplier_user_id"/>
        <result property="gbDsPurUserId" column="gb_DS_pur_user_id"/>
    </resultMap>


    <resultMap id="sellUser" type="GbDistributerSupplierUserEntity">
        <id property="gbDistributerSupplierUserId" column="gb_distributer_supplier_user_id"/>
        <result property="gbDsuDepartmentId" column="gb_DSU_department_id"/>
        <result property="gbDsuDepartmentFatherId" column="gb_DSU_department_father_id"/>
        <result property="gbDsuDistributerId" column="gb_DSU_distributer_id"/>
        <result property="gbDsuWxAvartraUrl" column="gb_DSU_wx_avartra_url"/>
        <result property="gbDsuWxNickName" column="gb_DSU_wx_nick_name"/>
        <result property="gbDsuJoinDate" column="gb_DSU_join_date"/>
        <result property="gbDsuAdmin" column="gb_DSU_admin"/>
        <result property="gbDsuSupplierId" column="gb_DSU_supplier_id"/>
    </resultMap>
    <resultMap id="depUser" type="GbDepartmentUserEntity">
        <id property="gbDepartmentUserId" column="gb_department_user_id"/>
		<result property="gbDuLoginTimes" column="gb_DU_login_times"/>
		<result property="gbDuCustomerService" column="gb_DU_customer_service"/>
        <result property="gbDuWxNickName" column="gb_DU_wx_nick_name"/>
        <result property="gbDuWxAvartraUrl" column="gb_DU_wx_avartra_url"/>
        <result property="gbDuUrlChange" column="gb_DU_url_change"/>
        <result property="gbDuWxOpenId" column="gb_DU_wx_open_id"/>
        <result property="gbDuPrintDeviceId" column="gb_DU_print_device_id"/>
        <result property="gbDuDistributerId" column="gb_DU_distributer_id"/>
        <result property="gbDuPrintBillDeviceId" column="gb_DU_print_bill_device_id"/>

    </resultMap>
    <resultMap id="jrdhSellUser" type="NxJrdhUserEntity">
        <id property="nxJrdhUserId" column="sell_user_nx_jrdh_user_id"/>
        <result property="nxJrdhWxAvartraUrl" column="sell_user_nx_jrdh_wx_avartra_url"/>
        <result property="nxJrdhWxNickName" column="sell_user_nx_jrdh_wx_nick_name"/>
        <result property="nxJrdhNxDistributerId" column="sell_user_nx_jrdh_nx_distributer_id"/>
        <result property="nxJrdhNxPurchaserUserId" column="sell_user_nx_jrdh_nx_purchaser_user_id"/>
        <result property="nxJrdhNxCommunityId" column="sell_user_nx_jrdh_nx_community_id"/>
        <result property="nxJrdhNxPurchaserUserId" column="sell_user_nx_jrdh_nx_comm_user_id"/>
        <result property="nxJrdhUrlChange" column="sell_user_nx_jrdh_url_change"/>
    </resultMap>
    <resultMap id="jrdhBuyUser" type="NxJrdhUserEntity">
        <id property="nxJrdhUserId" column="nx_jrdh_user_id"/>

        <result property="nxJrdhWxAvartraUrl" column="nx_jrdh_wx_avartra_url"/>
        <result property="nxJrdhWxNickName" column="nx_jrdh_wx_nick_name"/>
        <result property="nxJrdhNxDistributerId" column="nx_jrdh_nx_distributer_id"/>
        <result property="nxJrdhNxPurchaserUserId" column="nx_jrdh_nx_purchaser_user_id"/>
        <result property="nxJrdhNxCommunityId" column="nx_jrdh_nx_community_id"/>
        <result property="nxJrdhNxPurchaserUserId" column="nx_jrdh_nx_comm_user_id"/>
        <result property="nxJrdhUrlChange" column="nx_jrdh_url_change"/>

    </resultMap>
    <resultMap id="jrdhSupplier" type="NxJrdhSupplierEntity">
        <id property="nxJrdhSupplierId" column="nx_jrdh_supplier_id"/>
        <result property="nxJrdhsNxDistributerId" column="nx_jrdhs_nx_distributer_id"/>
        <result property="nxJrdhsGbDistributerId" column="nx_jrdhs_gb_distributer_id"/>
        <result property="nxJrdhsGbDepartmentId" column="nx_jrdhs_gb_department_id"/>
        <result property="nxJrdhsSupplierName" column="nx_jrdhs_supplier_name"/>
        <result property="nxJrdhsUserId" column="nx_jrdhs_user_id"/>
    </resultMap>
    <resultMap id="purchaseBatch" type="GbDistributerPurchaseBatchEntity">
        <id property="gbDistributerPurchaseBatchId" column="gb_distributer_purchase_batch_id"/>
        <result property="gbDpbSellUserId" column="gb_DPB_sell_user_id"/>
        <result property="gbDpbBuyUserId" column="gb_DPB_buy_user_id"/>
        <result property="gbDpbDistributerId" column="gb_DPB_distributer_id"/>
        <result property="gbDpbUserAdminType" column="gb_DPB_user_admin_type"/>
        <result property="gbDpbTime" column="gb_DPB_time"/>
        <result property="gbDpbDate" column="gb_DPB_date"/>
        <result property="gbDpbHour" column="gb_DPB_hour"/>
        <result property="gbDpbMinute" column="gb_DPB_minute"/>
        <result property="gbDpbStatus" column="gb_DPB_status"/>
        <result property="gbDpbSubtotal" column="gb_DPB_subtotal"/>
        <result property="gbDpbPurUserId" column="gb_DPB_pur_user_id"/>
        <result property="gbDpbSupplierUserId" column="gb_DPB_supplier_user_id"/>
        <result property="gbDpbSubtotal" column="gb_DPB_subtotal"/>
        <result property="gbDpbSupplierId" column="gb_DPB_supplier_id"/>
        <result property="gbDpbPaySubtotal" column="gb_DPB_pay_subtotal"/>
        <result property="gbDpbPayType" column="gb_DPB_pay_type"/>
        <result property="gbDpbPaySubtotal" column="gb_DPB_pay_subtotal"/>
        <result property="gbDpbPurchaseMonth" column="gb_DPB_purchase_month"/>
        <result property="gbDpbPurchaseWeek" column="gb_DPB_purchase_week"/>
        <result property="gbDpbPurchaseYear" column="gb_DPB_purchase_year"/>
        <result property="gbDpbPurchaseFullTime" column="gb_DPB_purchase_full_time"/>
        <result property="gbDpbPayType" column="gb_DPB_pay_type"/>
        <result property="gbDpbPurDepartmentId" column="gb_DPB_pur_department_id"/>
        <association property="nxJrdhPurEntity" resultMap="depUser"/>
        <association property="nxJrdhBuyerEntity" resultMap="jrdhBuyUser"/>
        <association property="nxJrdhSellerEntity" resultMap="jrdhSellUser"/>
        <association property="nxJrdhSupplierEntity" resultMap="jrdhSupplier"/>
        <collection property="gbDPGEntities" resultMap="purchaseGoods"/>
    </resultMap>

    <select id="queryBatchWithOrders" resultMap="purchaseBatch">
        select *,
               dep.gb_department_id,
               dep.gb_department_father_id,
               dep.gb_department_attr_name,
               dep.gb_department_name,
               dep.gb_department_dis_id,
               depf.gb_department_id         'depf_gb_department_id',
               depf.gb_department_name       'depf_gb_department_name',
               depf.gb_department_attr_name  'depf_gb_department_attr_name',
               depf.gb_department_sub_amount 'depf_gb_department_sub_amount',
               sell_user.nx_jrdh_user_id 'sell_user_nx_jrdh_user_id',
               sell_user.nx_jrdh_wx_avartra_url 'sell_user_nx_jrdh_wx_avartra_url',
               sell_user.nx_jrdh_wx_nick_name 'sell_user_nx_jrdh_wx_nick_name',
               sell_user.nx_jrdh_url_change 'sell_user_nx_jrdh_url_change'
        from gb_distributer_purchase_batch as pb
                 left join gb_distributer_purchase_goods as pg
                           on pb.gb_distributer_purchase_batch_id = pg.gb_DPG_batch_id
                 left join gb_distributer_goods as dg on pg.gb_DPG_dis_goods_id = dg.gb_distributer_goods_id
                 left join gb_department_user as du on pb.gb_DPB_pur_user_id = du.gb_department_user_id
                 left join gb_distributer as dis on du.gb_DU_distributer_id = dis.gb_distributer_id
                 left join gb_department_orders as dor
                           on dor.gb_DO_purchase_goods_id = pg.gb_distributer_purchase_goods_id
                 left join gb_department as dep on dep.gb_department_id = dor.gb_DO_department_id
                 left join gb_department as depf on depf.gb_department_id = dep.gb_department_father_id
                 left join nx_jrdh_user as buy_user on buy_user.nx_jrdh_user_id = pb.gb_DPB_buy_user_id
                 left join nx_jrdh_user as sell_user on sell_user.nx_jrdh_user_id = pb.gb_DPB_sell_user_id
                 left join nx_jrdh_supplier as sup on sup.nx_jrdh_supplier_id = pb.gb_DPB_supplier_id
        where gb_distributer_purchase_batch_id = #{batchId}
        order by  dg.gb_dg_goods_py,  dor.gb_DO_department_father_id, dor.gb_DO_department_id
    </select>

    <select id="queryList" resultType="com.nongxinle.entity.GbDistributerPurchaseBatchEntity">
        select * from gb_distributer_purchase_batch
        <where>
            <if test="supplierId != null">
                and gb_DPB_supplier_id = #{supplierId}
            </if>

            <if test="status != null">
                and gb_DPB_status &lt; #{status}
            </if>
        </where>

    </select>

    <select id="queryTotal" resultType="int">
        select count(*)
        from gb_distributer_purchase_batch
    </select>

    <select id="queryObject" resultType="com.nongxinle.entity.GbDistributerPurchaseBatchEntity">
        select *
        from gb_distributer_purchase_batch
        where gb_distributer_purchase_batch_id = #{value}
    </select>


    <select id="queryDisPurchaseBatch" resultMap="purchaseBatch">
        select *,
        depf.gb_department_id 'depf_gb_department_id',
        depf.gb_department_name 'depf_gb_department_name',
        sell_user.nx_jrdh_user_id 'sell_user_nx_jrdh_user_id',
        sell_user.nx_jrdh_wx_avartra_url 'sell_user_nx_jrdh_wx_avartra_url',
        sell_user.nx_jrdh_wx_nick_name 'sell_user_nx_jrdh_wx_nick_name',
        sell_user.nx_jrdh_url_change 'sell_user_nx_jrdh_url_change'
        from gb_distributer_purchase_batch as dpb
        left join gb_distributer_purchase_goods as dpg on dpg.gb_DPG_batch_id = dpb.gb_distributer_purchase_batch_id
        left join gb_distributer_goods as dg on dg.gb_distributer_goods_id = dpg.gb_DPG_dis_goods_id
        left join gb_department_orders as dor on dor.gb_DO_purchase_goods_id = dpg.gb_distributer_purchase_goods_id
        left join gb_department  as orderDep on orderDep.gb_department_id =  dor.gb_DO_department_id
        left join gb_department as depf on depf.gb_department_id = orderDep.gb_department_father_id
        left join gb_department_user as gdu on gdu.gb_department_user_id = dpb.gb_DPB_pur_user_id
        left join nx_jrdh_user as buy_user on buy_user.nx_jrdh_user_id = dpb.gb_DPB_buy_user_id
        left join nx_jrdh_user as sell_user on sell_user.nx_jrdh_user_id = dpb.gb_DPB_sell_user_id
        left join nx_jrdh_supplier as sup on sup.nx_jrdh_supplier_id = dpb.gb_DPB_supplier_id
        <where>
            <if test="payId != null">
                and gb_DPB_gb_supplier_payment_id = #{payId}
            </if>
            <if test="disId != null">
                and gb_DPB_distributer_id = #{disId}
            </if>

            <if test="status != null">
                and gb_DPB_status &lt; #{status}
            </if>
            <if test="payType != null">
                and gb_DPB_pay_type = #{payType}
            </if>
            <if test="equalStatus != null">
                and gb_DPB_status = #{equalStatus}
            </if>
            <if test="purUserId != null">
                and gb_DPB_pur_user_id = #{purUserId}
            </if>

            <if test="month != null">
                and gb_DPB_purchase_month = #{month}
            </if>
			<if test="dayuStatus != null">
				and gb_DPB_status &gt; #{dayuStatus}
			</if>

            <if test="sellerId != null">
                and gb_DPB_sell_user_id = #{sellerId}
            </if>
            <if test="purDepId != null">
                and gb_DPB_pur_department_id = #{purDepId}
            </if>
            <if test="startDate != null">
                and gb_DPB_date &gt;=  #{startDate}
            </if>
            <if test="stopDate != null">
                and gb_DPB_date &lt;=  #{stopDate}
            </if>
            <if test="date != null">
                and gb_DPB_date = #{date}
            </if>
            <if test="date != null">
                and gb_DPB_date = #{date}
            </if>
            <if test="supplierId != null">
                and gb_DPB_supplier_id = #{supplierId}
            </if>

        </where>
        order by gb_distributer_purchase_batch_id DESC,
        dg.gb_dg_goods_py,  dor.gb_DO_department_father_id, dor.gb_DO_department_id
    </select>
    <select id="queryDepartmentPurchaseBatch" resultMap="purchaseBatch">
        select * ,
        dep.gb_department_id,
        dep.gb_department_father_id,
        dep.gb_department_attr_name,
        dep.gb_department_name,
        dep.gb_department_dis_id,
        depf.gb_department_id 'depf_gb_department_id',
        depf.gb_department_name 'depf_gb_department_name',
        depf.gb_department_attr_name 'depf_gb_department_attr_name',
        depf.gb_department_sub_amount 'depf_gb_department_sub_amount'
        from gb_distributer_purchase_batch as dpb
        left join gb_distributer_purchase_goods as dpg on dpg.gb_DPG_batch_id = dpb.gb_distributer_purchase_batch_id
        left join gb_distributer_goods as dg on dg.gb_distributer_goods_id = dpg.gb_DPG_dis_goods_id
        left join gb_department_orders as gdo on gdo.gb_DO_purchase_goods_id = dpg.gb_distributer_purchase_goods_id
        left join gb_department as dep on dep.gb_department_id = gdo.gb_DO_department_id
        left join gb_department as depf on depf.gb_department_id = dep.gb_department_father_id
        left join nx_jrdh_user as nju on nju.nx_jrdh_user_id = dpb.gb_DPB_sell_user_id

        <where>
            <if test="purDepId != null">
                and gb_DPB_pur_department_id = #{purDepId}
            </if>
            <if test="status != null">
                and gb_DPB_status &lt; #{status}
            </if>
            <if test="disId != null">
                and gb_DPB_distributer_id = #{disId}
            </if>
            <if test="payType != null">
                and gb_DPB_pay_type = #{payType}
            </if>

        </where>
        order by gb_distributer_purchase_batch_id DESC,
        dg.gb_dg_goods_py,  gdo.gb_DO_department_father_id, gdo.gb_DO_department_id
    </select>
    <select id="queryDisPurchaseBatchCount" resultType="java.lang.Integer">
        select count(*)  from gb_distributer_purchase_batch as dpb
         <where>
             <if test="disId != null">
                 and gb_DPB_distributer_id = #{disId}
             </if>
            <if test="supplierId != null">
                and gb_DPB_supplier_id = #{supplierId}
            </if>
             <if test="equalStatus != null">
                 and gb_DPB_status = #{equalStatus}
             </if>
             <if test="dayuStatus != null">
                 and gb_DPB_status &gt; #{dayuStatus}
             </if>
             <if test="month != null">
             and gb_DPB_purchase_month = #{month}
         </if>
            <if test="status != null">
                and gb_DPB_status &lt; #{status}
            </if>

            <if test="purUserId != null">
                and gb_DPB_pur_user_id = #{purUserId}
            </if>
             <if test="sellerId != null">
                 and gb_DPB_sell_user_id = #{sellerId}
             </if>
             <if test="payType != null">
                 and gb_DPB_pay_type = #{payType}
             </if>
        </where>
    </select>
    <select id="querySupplierUnSettleSubtotal" resultType="java.lang.Double">
        select sum(gb_DPB_subtotal)  from gb_distributer_purchase_batch
        <where>
            <if test="disId != null">
                and gb_DPB_distributer_id = #{disId}
            </if>
            <if test="supplierId != null">
                and gb_DPB_supplier_id = #{supplierId}
            </if>
            <if test="status != null">
                and gb_DPB_status &lt; #{status}
            </if>
            <if test="equalStatus != null">
                and gb_DPB_status = #{equalStatus}
            </if>
            <if test="dayuStatus != null">
                and gb_DPB_status &gt; #{dayuStatus}
            </if>
            <if test="month != null">
                and gb_DPB_purchase_month = #{month}
            </if>
            <if test="purDepId != null">
                and gb_DPB_pur_department_id = #{purDepId}
            </if>

            <if test="sellerId != null">
                and gb_DPB_sell_user_id = #{sellerId}
            </if>
            <if test="payType != null">
                and gb_DPB_pay_type = #{payType}
            </if>

        </where>
    </select>


    <select id="queryDistributerAccountingData" resultMap="dep">
        select *   from gb_department as dep
        left join gb_distributer_purchase_batch as dpb on dep.gb_department_id = dpb.gb_DPB_pur_department_id
        and dep.gb_department_is_group_dep = 1
        <where>
            <if test="disId != null">
                and gb_DPB_distributer_id = #{disId}
            </if>
            <if test="equalStatus != null">
                and gb_DPB_status = #{equalStatus}
            </if>


        </where>

    </select>
    <select id="queryPurchaserCashTotal" resultType="java.lang.Double">
        select sum(gb_DPB_subtotal)  from gb_distributer_purchase_batch as dpb

        <where>
            <if test="disId != null">
                and gb_DPB_distributer_id = #{disId}
            </if>
            <if test="payType != null">
                and gb_DPB_pay_type = #{payType}
            </if>
            <if test="payType != null">
                and gb_DPB_pay_type = #{payType}
            </if>
            <if test="startDate != null">
                and gb_DPB_date &gt;=  #{startDate}
            </if>
            <if test="stopDate != null">
                and gb_DPB_date &lt;=  #{stopDate}
            </if>
            <if test="purUserId != null">
                and gb_DPB_pur_user_id = #{purUserId}
            </if>
            <if test="purDepId != null">
                and gb_DPB_pur_department_id = #{purDepId}
            </if>
        </where>
    </select>
    <select id="queryReturnList" resultType="java.lang.Integer">

        select count(gb_DPB_subtotal)  from gb_distributer_purchase_batch as dpb

        <where>

            <if test="disId != null">
                and gb_DPB_distributer_id = #{disId}
            </if>
            <if test="supplierId != null">
                and gb_DPB_supplier_id = #{supplierId}
            </if>
            <if test="status != null">
                and gb_DPB_status &lt; #{status}
            </if>

            <if test="equalStatus != null">
                and gb_DPB_status = #{equalStatus}
            </if>
            <if test="month != null">
                and gb_DPB_purchase_month = #{month}
            </if>
            <if test="purDepId != null">
                and gb_DPB_pur_department_id = #{purDepId}
            </if>
            <if test="subDayu != null and subDayu == 1">
                and gb_DPB_subtotal &gt; 0
            </if>
            <if test="subDayu != null and subDayu == -1">
                and gb_DPB_subtotal &lt; 0
            </if>

        </where>
    </select>

    <resultMap id="gbDis" type="GbDistributerEntity">
        <id property="gbDistributerId" column="gb_distributer_id"/>
        <result property="gbDistributerBusinessType" column="gb_distributer_business_type"/>
        <result property="gbDistributerName" column="gb_distributer_name"/>
        <result property="gbDistributerManager" column="gb_distributer_manager"/>
        <result property="gbDistributerAddress" column="gb_distributer_address"/>
        <result property="gbDistributerPhone" column="gb_distributer_phone"/>
        <result property="gbDistributerImg" column="gb_distributer_img"/>
        <result property="gbDistributerSettleDate" column="gb_distributer_settle_date"/>
        <result property="gbDistributerSettleMonth" column="gb_distributer_settle_month"/>
        <result property="gbDistributerSettleWeek" column="gb_distributer_settle_week"/>
        <result property="gbDistributerSettleFullTime" column="gb_distributer_settle_full_time"/>
        <result property="gbDistributerSettleTimes" column="gb_distributer_settle_times"/>
        <result property="gbDistributerSettleYear" column="gb_distributer_settle_year"/>
        <result property="gbDistributerTimeQuantum" column="gb_distributer_time_quantum"/>
        <collection property="gbDisPurchaseBatchEntities" resultMap="purchaseBatch"/>
    </resultMap>
    <select id="queryGbDistributerBySellerId" resultMap="gbDis">
        select *
        from gb_distributer_purchase_batch as gdpb
        left join gb_distributer as gd on gd.gb_distributer_id = gdpb.gb_DPB_distributer_id
        where gdpb.gb_dpb_sell_user_id = #{sellId};

    </select>
    <select id="queryBatchItemByParams" resultType="com.nongxinle.entity.GbDistributerPurchaseBatchEntity">
        select * from gb_distributer_purchase_batch
        <where>
            <if test="batchId != null">
                and gb_distributer_purchase_batch_id = #{batchId}
            </if>
            <if test="buyUserOpenId != null">
                and gb_DPB_buy_user_open_id = #{buyUserOpenId}
            </if>
            <if test="sellUserOpenId != null">
                and gb_DPB_sell_user_open_id = #{sellUserOpenId}
            </if>
            <if test="purchaseType != null">
                and gb_DPB_purchase_type = #{purchaseType}
            </if>
        </where>
    </select>


    <insert id="save" parameterType="com.nongxinle.entity.GbDistributerPurchaseBatchEntity"
            useGeneratedKeys="true" keyProperty="gbDistributerPurchaseBatchId">
        insert into gb_distributer_purchase_batch
        (`gb_distributer_purchase_batch_id`,
         `gb_DPB_status`,
         `gb_DPB_user_admin_type`,
         `gb_DPB_time`,
         `gb_DPB_pur_user_id`,
         `gb_DPB_distributer_id`,
         `gb_DPB_date`,
         `gb_DPB_hour`,
         `gb_DPB_minute`,
         `gb_DPB_subtotal`,
         `gb_DPB_supplier_user_id`,
         `gb_DPB_pur_department_id`,
         `gb_DPB_pay_type`,
         `gb_DPB_pay_subtotal`,
         `gb_DPB_supplier_id`,
         `gb_DPB_purchase_month`,
         `gb_DPB_purchase_year`,
         `gb_DPB_purchase_full_time`,
         `gb_DPB_gb_supplier_payment_id`,
         `gb_DPB_purchase_week`,
         `gb_DPB_seller_reply_full_time`,
         `gb_DPB_finish_full_time`,
         `gb_DPB_sell_user_id`,
         `gb_DPB_buy_user_id`,
         `gb_DPB_buy_user_open_id`,
         `gb_DPB_sell_user_open_id`,
         `gb_DPB_purchase_type`
         )
        values (#{gbDistributerPurchaseBatchId},
                #{gbDpbStatus},
                #{gbDpbUserAdminType},
                #{gbDpbTime},
                #{gbDpbPurUserId},
                #{gbDpbDistributerId},
                #{gbDpbDate},
                #{gbDpbHour},
                #{gbDpbMinute},
                #{gbDpbSubtotal},
                #{gbDpbSupplierUserId},
                #{gbDpbPurDepartmentId},
                #{gbDpbPayType},
                #{gbDpbPaySubtotal},
                #{gbDpbSupplierId},
                #{gbDpbPurchaseMonth},
                #{gbDpbPurchaseYear},
                #{gbDpbPurchaseFullTime},
                #{gbDpbGbSupplierPaymentId},
                #{gbDpbPurchaseWeek},
                #{gbDpbSellerReplyFullTime},
                #{gbDpbFinishFullTime},
                #{gbDpbSellUserId},
                #{gbDpbBuyUserId},
                #{gbDpbBuyUserOpenId},
                #{gbDpbSellUserOpenId},
                #{gbDpbPurchaseType}

                )
    </insert>

    <update id="update" parameterType="com.nongxinle.entity.GbDistributerPurchaseBatchEntity">
        update gb_distributer_purchase_batch
        <set>
            <if test="gbDpbStatus != null">`gb_DPB_status` = #{gbDpbStatus},</if>
            <if test="gbDpbUserAdminType != null">`gb_DPB_user_admin_type` = #{gbDpbUserAdminType},</if>
            <if test="gbDpbTime != null">`gb_DPB_time` = #{gbDpbTime},</if>
            <if test="gbDpbDistributerId != null">`gb_DPB_distributer_id` = #{gbDpbDistributerId},</if>
            <if test="gbDpbDate != null">`gb_DPB_date` = #{gbDpbDate},</if>
            <if test="gbDpbHour != null">`gb_DPB_hour` = #{gbDpbHour},</if>
            <if test="gbDpbMinute != null">`gb_DPB_minute` = #{gbDpbMinute},</if>
            <if test="gbDpbSubtotal != null">`gb_DPB_subtotal` = #{gbDpbSubtotal},</if>
            <if test="gbDpbSupplierUserId != null">`gb_DPB_supplier_user_id` = #{gbDpbSupplierUserId},</if>
            <if test="gbDpbPurDepartmentId != null">`gb_DPB_pur_department_id` = #{gbDpbPurDepartmentId},</if>
            <if test="gbDpbPayType != null">`gb_DPB_pay_type` = #{gbDpbPayType},</if>
            <if test="gbDpbPaySubtotal != null">`gb_DPB_pay_subtotal` = #{gbDpbPaySubtotal},</if>
            <if test="gbDpbGbSupplierPaymentId != null">`gb_DPB_gb_supplier_payment_id` = #{gbDpbGbSupplierPaymentId},</if>
            <if test="gbDpbSupplierId != null">`gb_DPB_supplier_id` =
                #{gbDpbSupplierId},
            </if>
            <if test="gbDpbPurchaseMonth != null">`gb_DPB_purchase_month` = #{gbDpbPurchaseMonth},</if>
            <if test="gbDpbPurchaseYear != null">`gb_DPB_purchase_year` = #{gbDpbPurchaseYear},</if>
            <if test="gbDpbPurchaseFullTime != null">`gb_DPB_purchase_full_time` = #{gbDpbPurchaseFullTime},</if>
            <if test="gbDpbSellerReplyFullTime != null">`gb_DPB_seller_reply_full_time` = #{gbDpbSellerReplyFullTime},</if>
            <if test="gbDpbFinishFullTime != null">`gb_DPB_finish_full_time` = #{gbDpbFinishFullTime},</if>
            <if test="gbDpbPurchaseWeek != null">`gb_DPB_purchase_week` = #{gbDpbPurchaseWeek},</if>
            <if test="gbDpbBuyUserId != null">`gb_DPB_buy_user_id` = #{gbDpbBuyUserId},</if>
            <if test="gbDpbSellUserId != null">`gb_DPB_sell_user_id` = #{gbDpbSellUserId},</if>
            <if test="gbDpbSellUserOpenId != null">`gb_DPB_sell_user_open_id` = #{gbDpbSellUserOpenId},</if>
            <if test="gbDpbBuyUserOpenId != null">`gb_DPB_buy_user_open_id` = #{gbDpbBuyUserOpenId},</if>
            <if test="gbDpbPurchaseType != null">`gb_DPB_purchase_type` = #{gbDpbPurchaseType},</if>
            <if test="gbDpbPurUserId != null">`gb_DPB_pur_user_id` = #{gbDpbPurUserId}</if>
        </set>
        where gb_distributer_purchase_batch_id = #{gbDistributerPurchaseBatchId}
    </update>

    <delete id="delete">
        delete
        from gb_distributer_purchase_batch
        where gb_distributer_purchase_batch_id = #{value}
    </delete>

    <delete id="deleteBatch">
        delete from gb_distributer_purchase_batch where gb_distributer_purchase_batch_id in
        <foreach item="gbDistributerPurchaseBatchId" collection="array" open="(" separator="," close=")">
            #{gbDistributerPurchaseBatchId}
        </foreach>
    </delete>
    <delete id="delateBatchId">
        delete
        from gb_distributer_purchase_batch
        where gb_distributer_purchase_batch_id = #{purchaseBatchId}
    </delete>

</mapper>